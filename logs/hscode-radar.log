2025-07-01T17:32:27.610+09:00  INFO 35880 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 35880 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T17:32:27.611+09:00 DEBUG 35880 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T17:32:27.612+09:00  INFO 35880 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T17:32:27.648+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T17:32:27.648+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T17:32:27.649+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T17:32:28.414+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T17:32:28.414+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T17:32:28.521+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 99 ms. Found 10 JPA repository interfaces.
2025-07-01T17:32:28.525+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T17:32:28.525+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T17:32:28.537+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-07-01T17:32:29.306+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T17:32:29.307+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T17:32:29.385+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:32:29.385+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:32:29.386+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:32:29.387+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:32:29.387+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:32:29.387+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:32:29.388+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:32:29.391+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:32:29.392+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:32:29.392+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:32:29.392+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 83 ms. Found 0 Redis repository interfaces.
2025-07-01T17:32:30.568+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-01T17:32:30.583+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T17:32:30.583+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T17:32:30.685+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T17:32:30.686+09:00  INFO 35880 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3036 ms
2025-07-01T17:32:30.820+09:00 DEBUG 35880 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T17:32:31.001+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T17:32:31.038+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T17:32:31.060+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T17:32:31.237+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T17:32:31.259+09:00  INFO 35880 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T17:32:31.541+09:00  INFO 35880 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4baa605d
2025-07-01T17:32:31.542+09:00  INFO 35880 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T17:32:31.565+09:00  WARN 35880 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T17:32:31.580+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T17:32:32.509+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T17:32:32.512+09:00  INFO 35880 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T17:32:33.159+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T17:32:34.535+09:00  INFO 35880 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🤖 Claude AI 모델 초기화 - model: claude-3-5-sonnet-20250514, maxTokens: 64000
2025-07-01T17:32:34.564+09:00  INFO 35880 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 💭 채팅 메모리 초기화 - maxMessages: 20
2025-07-01T17:32:34.568+09:00  INFO 35880 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🚀 무역 분석 AI 서비스 초기화 (Claude 웹검색 내장)
2025-07-01T17:32:34.684+09:00  WARN 35880 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T17:32:34.766+09:00 DEBUG 35880 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T17:32:34.821+09:00 DEBUG 35880 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T17:32:34.942+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T17:32:34.951+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T17:32:34.951+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T17:32:34.953+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T17:32:34.953+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T17:32:34.954+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T17:32:34.954+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T17:32:34.954+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@2dfb8bc7
2025-07-01T17:32:34.978+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T17:32:35.007+09:00  INFO 35880 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T17:32:35.062+09:00  WARN 35880 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T17:32:35.177+09:00 DEBUG 35880 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T17:32:35.207+09:00 DEBUG 35880 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T17:32:35.369+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T17:32:35.408+09:00  INFO 35880 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T17:32:35.482+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T17:32:35.540+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/api'
2025-07-01T17:32:35.542+09:00  INFO 35880 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T17:32:35.543+09:00  INFO 35880 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T17:32:35.557+09:00  INFO 35880 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 8.299 seconds (process running for 9.151)
2025-07-01T17:32:36.257+09:00  INFO 35880 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01T17:32:36.257+09:00  INFO 35880 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-01T17:32:36.257+09:00 DEBUG 35880 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-01T17:32:36.257+09:00 DEBUG 35880 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-01T17:32:36.258+09:00 DEBUG 35880 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-01T17:32:36.258+09:00 DEBUG 35880 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@9441cbb
2025-07-01T17:32:36.259+09:00 DEBUG 35880 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3fcb470b
2025-07-01T17:32:36.259+09:00 DEBUG 35880 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01T17:32:36.259+09:00  INFO 35880 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-01T17:35:32.094+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:35:32.102+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui.html", parameters={}
2025-07-01T17:35:32.104+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerWelcomeWebMvc#redirectToUi(HttpServletRequest)
2025-07-01T17:35:32.144+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/xhtml+xml', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T17:35:32.145+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] c.h.c.response.ResponseWrapperAdvice     : Skipping response wrapping for SpringDoc class: org.springdoc.webmvc.ui.SwaggerWelcomeWebMvc
2025-07-01T17:35:32.145+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-07-01T17:35:32.147+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND
2025-07-01T17:35:32.154+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:35:32.156+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/index.html", parameters={}
2025-07-01T17:35:32.156+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:35:32.161+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:35:32.211+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:35:32.212+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-ui.css", parameters={}
2025-07-01T17:35:32.212+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:35:32.213+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:35:32.213+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:35:32.214+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:35:32.214+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/index.css", parameters={}
2025-07-01T17:35:32.214+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-07-01T17:35:32.215+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:35:32.215+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:35:32.216+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-07-01T17:35:32.216+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:35:32.216+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-initializer.js", parameters={}
2025-07-01T17:35:32.217+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:35:32.217+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:35:32.219+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:35:32.220+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:35:32.224+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:35:32.233+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:35:32.235+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:35:32.347+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:35:32.350+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/api-docs/swagger-config", parameters={}
2025-07-01T17:35:32.350+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-01T17:35:32.350+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:35:32.351+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/favicon-32x32.png", parameters={}
2025-07-01T17:35:32.352+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:35:32.352+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2025-07-01T17:35:32.353+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-8] c.h.c.response.ResponseWrapperAdvice     : Skipping response wrapping for SpringDoc class: org.springdoc.webmvc.ui.SwaggerConfigResource
2025-07-01T17:35:32.354+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:35:32.354+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/api/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/api/swagger-ui/oaut (truncated)...]
2025-07-01T17:35:32.358+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:35:32.365+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:35:32.366+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/api-docs", parameters={}
2025-07-01T17:35:32.366+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-01T17:35:33.991+09:00  INFO 35880 --- [hscode-radar] [http-nio-8080-exec-10] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1617 ms
2025-07-01T17:35:34.013+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-01T17:35:34.013+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-10] c.h.c.response.ResponseWrapperAdvice     : Skipping response wrapping for SpringDoc class: org.springdoc.webmvc.api.OpenApiWebMvcResource
2025-07-01T17:35:34.021+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-01T17:35:34.022+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:36:15.795+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:36:15.796+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/chat/chat", parameters={}
2025-07-01T17:36:15.797+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T17:36:15.821+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=아이폰 15 프로를 수입할 때 HS Code와 관세율이 어떻게 되나요?, sessionId=chat_session_20240116_12 (truncated)...]
2025-07-01T17:36:15.846+09:00  INFO 35880 --- [hscode-radar] [http-nio-8080-exec-1] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 - 사용자: 비회원, 메시지 길이: 39, 회원 여부: false, 세션: chat_session_20240116_123456
2025-07-01T17:36:15.858+09:00  INFO 35880 --- [hscode-radar] [http-nio-8080-exec-1] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 - 응답 ID: trade-chat-v61-1751358975847-f1653a8a, 사용자: 비회원:client-12345, 회원: false
2025-07-01T17:36:15.859+09:00  INFO 35880 --- [hscode-radar] [http-nio-8080-exec-1] c.h.d.chat.service.TradeChatService      : 🤖 Claude 3.5 Sonnet ChatModel 초기화 중... (LangChain4j 1.1.0-beta7)
2025-07-01T17:36:15.861+09:00  INFO 35880 --- [hscode-radar] [http-nio-8080-exec-1] c.h.d.chat.service.TradeChatService      : ✅ Claude 3.5 Sonnet ChatModel 초기화 완료
2025-07-01T17:36:15.893+09:00  INFO 35880 --- [hscode-radar] [http-nio-8080-exec-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...ey], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-3-5-sonnet-20240620",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "다음 질문이 무역 관련인지 분석하세요: 아이폰 15 프로를 수입할 때 HS Code와 관세율이 어떻게 되나요?"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "당신은 무역 전문가입니다. 사용자의 질문이 무역 관련인지 분석하세요."
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.7
}

2025-07-01T17:36:16.522+09:00 ERROR 35880 --- [hscode-radar] [http-nio-8080-exec-1] c.h.d.chat.service.TradeChatService      : 무역 의도 분석 실패: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:31) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.lambda$withRetryMappingExceptions$2(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils$RetryPolicy.withRetry(RetryUtils.java:211) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetry(RetryUtils.java:264) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:308) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.AnthropicChatModel.doChat(AnthropicChatModel.java:278) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.model.chat.ChatModel.chat(ChatModel.java:46) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.guardrail.SynchronousChatExecutor.execute(SynchronousChatExecutor.java:32) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.guardrail.AbstractChatExecutor.execute(AbstractChatExecutor.java:45) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.service.DefaultAiServices$1.invoke(DefaultAiServices.java:256) ~[langchain4j-1.1.0.jar:na]
	at jdk.proxy4/jdk.proxy4.$Proxy273.analyzeTradeIntent(Unknown Source) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.analyzeTradeIntent(TradeChatService.java:431) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$0(TradeChatService.java:96) ~[classes/:na]
	at reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:97) ~[reactor-core-3.7.7.jar:3.7.7]
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891) ~[reactor-core-3.7.7.jar:3.7.7]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler$AbstractEmitterSubscriber.connect(ReactiveTypeHandler.java:283) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler.handleValue(ReactiveTypeHandler.java:167) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitterReturnValueHandler.handleReturnValue(ResponseBodyEmitterReturnValueHandler.java:210) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at com.hscoderadar.config.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:147) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.execute(JdkHttpClient.java:53) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient.execute(LoggingHttpClient.java:39) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient.createMessage(DefaultAnthropicClient.java:100) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.model.anthropic.AnthropicChatModel.lambda$doChat$0(AnthropicChatModel.java:278) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:29) ~[langchain4j-core-1.1.0.jar:na]
	... 181 common frames omitted

2025-07-01T17:36:18.017+09:00  INFO 35880 --- [hscode-radar] [pool-3-thread-1] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 아이폰 15 프로를 수입할 때 HS Code와 관세율이 어떻게 되나요?
2025-07-01T17:36:18.018+09:00  INFO 35880 --- [hscode-radar] [pool-3-thread-1] c.h.domain.chat.service.TradeRagService  : 🚀 voyage-3-large 1024차원 임베딩 모델 초기화 중... (LangChain4j 1.1.0-beta7)
2025-07-01T17:36:18.021+09:00  INFO 35880 --- [hscode-radar] [pool-3-thread-1] c.h.domain.chat.service.TradeRagService  : ✅ voyage-3-large 임베딩 모델 초기화 완료 - 차원: 1024d
2025-07-01T17:36:18.026+09:00  INFO 35880 --- [hscode-radar] [pool-3-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.voyageai.com/v1/embeddings
- headers: [Authorization: Beare...ey], [Accept: application/json], [Content-Type: application/json]
- body: {
  "input" : [ "아이폰 15 프로를 수입할 때 HS Code와 관세율이 어떻게 되나요?" ],
  "model" : "voyage-3-large"
}

2025-07-01T17:36:18.392+09:00 ERROR 35880 --- [hscode-radar] [pool-3-thread-1] c.h.domain.chat.service.TradeRagService  : ❌ HSCode 의미적 검색 실패: {"detail":"Provided API key is invalid."}

dev.langchain4j.exception.AuthenticationException: {"detail":"Provided API key is invalid."}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:31) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.lambda$withRetryMappingExceptions$2(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils$RetryPolicy.withRetry(RetryUtils.java:211) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetry(RetryUtils.java:264) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:308) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.embedTexts(VoyageAiEmbeddingModel.java:91) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.embedAll(VoyageAiEmbeddingModel.java:73) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.embedding.EmbeddingModel.embed(EmbeddingModel.java:34) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.embedding.EmbeddingModel.embed(EmbeddingModel.java:24) ~[langchain4j-core-1.1.0.jar:na]
	at com.hscoderadar.domain.chat.service.TradeRagService.searchHsCodesBySemantic(TradeRagService.java:126) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.searchHsCodesBySemantic(TradeChatService.java:448) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:268) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"detail":"Provided API key is invalid."}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.execute(JdkHttpClient.java:53) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient.execute(LoggingHttpClient.java:39) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiClient.embed(VoyageAiClient.java:70) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.lambda$embedTexts$0(VoyageAiEmbeddingModel.java:91) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:29) ~[langchain4j-core-1.1.0.jar:na]
	... 16 common frames omitted

2025-07-01T17:36:18.395+09:00  INFO 35880 --- [hscode-radar] [pool-3-thread-1] c.h.d.chat.service.TradeChatService      : 🤖 Claude 3.5 Sonnet StreamingChatModel 초기화 중... (LangChain4j 1.1.0-beta7)
2025-07-01T17:36:18.397+09:00  INFO 35880 --- [hscode-radar] [pool-3-thread-1] c.h.d.chat.service.TradeChatService      : ✅ Claude 3.5 Sonnet StreamingChatModel 초기화 완료
2025-07-01T17:36:18.399+09:00  INFO 35880 --- [hscode-radar] [pool-3-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...ey], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-3-5-sonnet-20240620",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "사용자 질문: 아이폰 15 프로를 수입할 때 HS Code와 관세율이 어떻게 되나요?\n\n관련 HSCode 정보 (voyage-3-large 1024차원 검색 결과):\n- HSCode: 일반, 품목: 무역 정보, 설명: 더 구체적인 정보를 제공해주시면 정확한 HSCode를 안내드릴 수 있습니다. (신뢰도: 0.50)\n\n위 RAG 검색 결과를 참고하여 정확하고 구체적인 답변을 제공해주세요."
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.7
}

2025-07-01T17:36:18.675+09:00 ERROR 35880 --- [hscode-radar] [ForkJoinPool.commonPool-worker-6] c.h.d.chat.service.TradeChatService      : Claude 스트리밍 응답 오류: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T17:36:18.676+09:00 ERROR 35880 --- [hscode-radar] [pool-3-thread-1] c.h.d.chat.service.TradeChatService      : RAG 기반 AI 응답 생성 실패: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

java.util.concurrent.ExecutionException: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.generateActualAIResponseWithRAG(TradeChatService.java:406) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:271) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T17:36:18.680+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat/chat"
2025-07-01T17:36:18.693+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat/chat"
2025-07-01T17:36:18.693+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat/chat"
2025-07-01T17:36:18.695+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T17:36:18.700+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat/chat", parameters={}
2025-07-01T17:36:18.701+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T17:36:18.701+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T17:36:18.703+09:00 DEBUG 35880 --- [hscode-radar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T17:40:19.587+09:00  INFO 16716 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 16716 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T17:40:19.588+09:00 DEBUG 16716 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T17:40:19.589+09:00  INFO 16716 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T17:40:19.623+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T17:40:19.624+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T17:40:19.624+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T17:40:20.428+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T17:40:20.428+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T17:40:20.537+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 10 JPA repository interfaces.
2025-07-01T17:40:20.542+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T17:40:20.543+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T17:40:20.554+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-07-01T17:40:21.383+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T17:40:21.384+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T17:40:21.459+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:40:21.459+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:40:21.460+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:40:21.460+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:40:21.461+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:40:21.461+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:40:21.461+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:40:21.462+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:40:21.463+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:40:21.463+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:40:21.463+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 0 Redis repository interfaces.
2025-07-01T17:40:22.727+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-01T17:40:22.738+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T17:40:22.738+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T17:40:22.832+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T17:40:22.833+09:00  INFO 16716 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3209 ms
2025-07-01T17:40:22.960+09:00 DEBUG 16716 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T17:40:23.103+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T17:40:23.135+09:00  INFO 16716 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T17:40:23.157+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T17:40:23.329+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T17:40:23.349+09:00  INFO 16716 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T17:40:23.625+09:00  INFO 16716 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2538ab05
2025-07-01T17:40:23.627+09:00  INFO 16716 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T17:40:23.649+09:00  WARN 16716 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T17:40:23.662+09:00  INFO 16716 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T17:40:24.596+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T17:40:24.598+09:00  INFO 16716 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T17:40:25.199+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T17:40:25.762+09:00  WARN 16716 --- [hscode-radar] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'langChain4jConfig': Injection of autowired dependencies failed
2025-07-01T17:40:25.876+09:00  INFO 16716 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T17:40:25.879+09:00  INFO 16716 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T17:40:25.884+09:00  INFO 16716 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T17:40:25.887+09:00  INFO 16716 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-01T17:40:25.900+09:00  INFO 16716 --- [hscode-radar] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-01T17:40:25.915+09:00 ERROR 16716 --- [hscode-radar] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'langChain4jConfig': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.3.jar:3.5.3]
	at com.hscoderadar.HsCodeRadarApplication.main(HsCodeRadarApplication.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.3.jar:3.5.3]
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'ANTHROPIC_API_KEY' in value "${ANTHROPIC_API_KEY}" <-- "${app.claude.api-key}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:423) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:293) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:264) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:186) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:971) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1650) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.8.jar:6.2.8]
	... 22 common frames omitted

2025-07-01T17:44:12.851+09:00  INFO 32708 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 32708 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T17:44:12.853+09:00 DEBUG 32708 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T17:44:12.853+09:00  INFO 32708 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T17:44:12.888+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T17:44:12.889+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T17:44:12.889+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T17:44:13.701+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T17:44:13.701+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T17:44:13.811+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 99 ms. Found 10 JPA repository interfaces.
2025-07-01T17:44:13.816+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T17:44:13.816+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T17:44:13.828+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-07-01T17:44:14.615+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T17:44:14.615+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T17:44:14.683+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:44:14.684+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:44:14.685+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:44:14.685+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:44:14.686+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:44:14.686+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:44:14.687+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:44:14.687+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:44:14.688+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:44:14.688+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T17:44:14.688+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 0 Redis repository interfaces.
2025-07-01T17:44:15.878+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-01T17:44:15.889+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T17:44:15.889+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T17:44:15.982+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T17:44:15.983+09:00  INFO 32708 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3094 ms
2025-07-01T17:44:16.122+09:00 DEBUG 32708 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T17:44:16.271+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T17:44:16.304+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T17:44:16.328+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T17:44:16.506+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T17:44:16.527+09:00  INFO 32708 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T17:44:16.764+09:00  INFO 32708 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1929fceb
2025-07-01T17:44:16.765+09:00  INFO 32708 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T17:44:16.786+09:00  WARN 32708 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T17:44:16.802+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T17:44:17.695+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T17:44:17.698+09:00  INFO 32708 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T17:44:18.237+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T17:44:19.591+09:00  INFO 32708 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🤖 Claude AI 모델 초기화 - model: claude-sonnet-4-20250514, maxTokens: 64000
2025-07-01T17:44:19.615+09:00  INFO 32708 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 💭 채팅 메모리 초기화 - maxMessages: 20
2025-07-01T17:44:19.618+09:00  INFO 32708 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🚀 무역 분석 AI 서비스 초기화 (Claude 웹검색 내장)
2025-07-01T17:44:19.756+09:00  WARN 32708 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T17:44:19.828+09:00 DEBUG 32708 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T17:44:19.878+09:00 DEBUG 32708 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T17:44:19.978+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T17:44:19.988+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T17:44:19.988+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T17:44:19.989+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T17:44:19.989+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T17:44:19.990+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T17:44:19.990+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T17:44:19.990+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@888986a
2025-07-01T17:44:20.014+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T17:44:20.043+09:00  INFO 32708 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T17:44:20.090+09:00  WARN 32708 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T17:44:20.187+09:00 DEBUG 32708 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T17:44:20.212+09:00 DEBUG 32708 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T17:44:20.357+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T17:44:20.390+09:00  INFO 32708 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T17:44:20.447+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T17:44:20.502+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/api'
2025-07-01T17:44:20.504+09:00  INFO 32708 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T17:44:20.505+09:00  INFO 32708 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T17:44:20.517+09:00  INFO 32708 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 8.031 seconds (process running for 8.931)
2025-07-01T17:44:21.448+09:00  INFO 32708 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01T17:44:21.449+09:00  INFO 32708 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-01T17:44:21.449+09:00 DEBUG 32708 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-01T17:44:21.450+09:00 DEBUG 32708 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-01T17:44:21.450+09:00 DEBUG 32708 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-01T17:44:21.450+09:00 DEBUG 32708 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@25512351
2025-07-01T17:44:21.451+09:00 DEBUG 32708 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@192f13c3
2025-07-01T17:44:21.451+09:00 DEBUG 32708 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01T17:44:21.451+09:00  INFO 32708 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-01T17:44:30.421+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:30.430+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/index.html", parameters={}
2025-07-01T17:44:30.432+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:44:30.446+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:30.472+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:30.473+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-ui.css", parameters={}
2025-07-01T17:44:30.474+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:30.474+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:30.474+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:44:30.474+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:30.475+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:30.475+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-07-01T17:44:30.475+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-initializer.js", parameters={}
2025-07-01T17:44:30.476+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-07-01T17:44:30.476+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/index.css", parameters={}
2025-07-01T17:44:30.476+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-5] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:44:30.476+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:44:30.476+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-4] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:44:30.476+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:44:30.478+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:30.479+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:30.481+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:30.487+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:30.488+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-07-01T17:44:30.489+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-7] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:44:30.491+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:30.492+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:30.493+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:30.585+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:30.586+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/api-docs/swagger-config", parameters={}
2025-07-01T17:44:30.587+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-07-01T17:44:30.587+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:30.588+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/favicon-32x32.png", parameters={}
2025-07-01T17:44:30.589+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-9] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:44:30.591+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:30.600+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2025-07-01T17:44:30.626+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-8] c.h.c.response.ResponseWrapperAdvice     : Skipping response wrapping for SpringDoc class: org.springdoc.webmvc.ui.SwaggerConfigResource
2025-07-01T17:44:30.626+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [{configUrl=/api/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/api/swagger-ui/oaut (truncated)...]
2025-07-01T17:44:30.630+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:30.659+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:30.660+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/api-docs", parameters={}
2025-07-01T17:44:30.661+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-07-01T17:44:31.157+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:31.157+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:31.158+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-initializer.js", parameters={}
2025-07-01T17:44:31.158+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-07-01T17:44:31.158+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:44:31.158+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-2] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-07-01T17:44:31.160+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:31.170+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:32.659+09:00  INFO 32708 --- [hscode-radar] [http-nio-8080-exec-10] o.springdoc.api.AbstractOpenApiResource  : Init duration for springdoc-openapi is: 1990 ms
2025-07-01T17:44:32.682+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, */*] and supported [application/json]
2025-07-01T17:44:32.682+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-10] c.h.c.response.ResponseWrapperAdvice     : Skipping response wrapping for SpringDoc class: org.springdoc.webmvc.api.OpenApiWebMvcResource
2025-07-01T17:44:32.692+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-07-01T17:44:32.694+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T17:44:53.423+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T17:44:53.424+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/chat/chat", parameters={}
2025-07-01T17:44:53.425+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T17:44:53.449+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=아이폰 15 프로를 수입할 때 HS Code와 관세율이 어떻게 되나요?, sessionId=chat_session_20240116_12 (truncated)...]
2025-07-01T17:44:53.478+09:00  INFO 32708 --- [hscode-radar] [http-nio-8080-exec-3] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 - 사용자: 비회원, 메시지 길이: 39, 회원 여부: false, 세션: chat_session_20240116_123456
2025-07-01T17:44:53.489+09:00  INFO 32708 --- [hscode-radar] [http-nio-8080-exec-3] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 - 응답 ID: trade-chat-v61-1751359493479-fd558aff, 사용자: 비회원:client-12345, 회원: false
2025-07-01T17:44:53.490+09:00  INFO 32708 --- [hscode-radar] [http-nio-8080-exec-3] c.h.d.chat.service.TradeChatService      : 🤖 Claude 3.5 Sonnet ChatModel 초기화 중... (LangChain4j 1.1.0-beta7)
2025-07-01T17:44:53.493+09:00  INFO 32708 --- [hscode-radar] [http-nio-8080-exec-3] c.h.d.chat.service.TradeChatService      : ✅ Claude 3.5 Sonnet ChatModel 초기화 완료
2025-07-01T17:44:53.535+09:00  INFO 32708 --- [hscode-radar] [http-nio-8080-exec-3] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...5_], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-3-5-sonnet-20240620",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "다음 질문이 무역 관련인지 분석하세요: 아이폰 15 프로를 수입할 때 HS Code와 관세율이 어떻게 되나요?"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "당신은 무역 전문가입니다. 사용자의 질문이 무역 관련인지 분석하세요."
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.7
}

2025-07-01T17:44:54.010+09:00 ERROR 32708 --- [hscode-radar] [http-nio-8080-exec-3] c.h.d.chat.service.TradeChatService      : 무역 의도 분석 실패: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:31) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.lambda$withRetryMappingExceptions$2(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils$RetryPolicy.withRetry(RetryUtils.java:211) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetry(RetryUtils.java:264) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:308) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.AnthropicChatModel.doChat(AnthropicChatModel.java:278) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.model.chat.ChatModel.chat(ChatModel.java:46) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.guardrail.SynchronousChatExecutor.execute(SynchronousChatExecutor.java:32) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.guardrail.AbstractChatExecutor.execute(AbstractChatExecutor.java:45) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.service.DefaultAiServices$1.invoke(DefaultAiServices.java:256) ~[langchain4j-1.1.0.jar:na]
	at jdk.proxy4/jdk.proxy4.$Proxy273.analyzeTradeIntent(Unknown Source) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.analyzeTradeIntent(TradeChatService.java:431) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$0(TradeChatService.java:96) ~[classes/:na]
	at reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:97) ~[reactor-core-3.7.7.jar:3.7.7]
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891) ~[reactor-core-3.7.7.jar:3.7.7]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler$AbstractEmitterSubscriber.connect(ReactiveTypeHandler.java:283) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler.handleValue(ReactiveTypeHandler.java:167) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitterReturnValueHandler.handleReturnValue(ResponseBodyEmitterReturnValueHandler.java:210) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at com.hscoderadar.config.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:147) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.execute(JdkHttpClient.java:53) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient.execute(LoggingHttpClient.java:39) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient.createMessage(DefaultAnthropicClient.java:100) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.model.anthropic.AnthropicChatModel.lambda$doChat$0(AnthropicChatModel.java:278) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:29) ~[langchain4j-core-1.1.0.jar:na]
	... 181 common frames omitted

2025-07-01T17:44:55.507+09:00  INFO 32708 --- [hscode-radar] [pool-3-thread-1] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 아이폰 15 프로를 수입할 때 HS Code와 관세율이 어떻게 되나요?
2025-07-01T17:44:55.507+09:00  INFO 32708 --- [hscode-radar] [pool-3-thread-1] c.h.domain.chat.service.TradeRagService  : 🚀 voyage-3-large 1024차원 임베딩 모델 초기화 중... (LangChain4j 1.1.0-beta7)
2025-07-01T17:44:55.511+09:00  INFO 32708 --- [hscode-radar] [pool-3-thread-1] c.h.domain.chat.service.TradeRagService  : ✅ voyage-3-large 임베딩 모델 초기화 완료 - 차원: 1024d
2025-07-01T17:44:55.515+09:00  INFO 32708 --- [hscode-radar] [pool-3-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.voyageai.com/v1/embeddings
- headers: [Authorization: Beare...IP], [Accept: application/json], [Content-Type: application/json]
- body: {
  "input" : [ "아이폰 15 프로를 수입할 때 HS Code와 관세율이 어떻게 되나요?" ],
  "model" : "voyage-3-large"
}

2025-07-01T17:44:55.815+09:00  INFO 32708 --- [hscode-radar] [pool-3-thread-1] c.h.domain.chat.service.TradeRagService  : 🗄️ 임베딩 스토어 초기화 중... (현재: InMemory, 추후 PostgreSQL+pgvector)
2025-07-01T17:44:55.815+09:00  INFO 32708 --- [hscode-radar] [pool-3-thread-1] c.h.domain.chat.service.TradeRagService  : ✅ 임베딩 스토어 초기화 완료 - 타입: InMemory, 차원: 1024d
2025-07-01T17:44:55.816+09:00  INFO 32708 --- [hscode-radar] [pool-3-thread-1] c.h.domain.chat.service.TradeRagService  : ✅ HSCode 의미적 검색 완료 - 결과 수: 0, 최대 유사도: 0.0
2025-07-01T17:44:55.817+09:00  INFO 32708 --- [hscode-radar] [pool-3-thread-1] c.h.d.chat.service.TradeChatService      : 🤖 Claude 3.5 Sonnet StreamingChatModel 초기화 중... (LangChain4j 1.1.0-beta7)
2025-07-01T17:44:55.820+09:00  INFO 32708 --- [hscode-radar] [pool-3-thread-1] c.h.d.chat.service.TradeChatService      : ✅ Claude 3.5 Sonnet StreamingChatModel 초기화 완료
2025-07-01T17:44:55.822+09:00  INFO 32708 --- [hscode-radar] [pool-3-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...5_], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-3-5-sonnet-20240620",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "아이폰 15 프로를 수입할 때 HS Code와 관세율이 어떻게 되나요?"
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.7
}

2025-07-01T17:44:56.604+09:00 ERROR 32708 --- [hscode-radar] [ForkJoinPool.commonPool-worker-6] c.h.d.chat.service.TradeChatService      : Claude 스트리밍 응답 오류: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T17:44:56.605+09:00 ERROR 32708 --- [hscode-radar] [pool-3-thread-1] c.h.d.chat.service.TradeChatService      : RAG 기반 AI 응답 생성 실패: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

java.util.concurrent.ExecutionException: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.generateActualAIResponseWithRAG(TradeChatService.java:406) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:271) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T17:44:56.610+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat/chat"
2025-07-01T17:44:56.624+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat/chat"
2025-07-01T17:44:56.624+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat/chat"
2025-07-01T17:44:56.626+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T17:44:56.631+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat/chat", parameters={}
2025-07-01T17:44:56.632+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T17:44:56.633+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T17:44:56.635+09:00 DEBUG 32708 --- [hscode-radar] [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T19:02:34.441+09:00  INFO 7052 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 7052 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T19:02:34.442+09:00 DEBUG 7052 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T19:02:34.443+09:00  INFO 7052 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T19:02:34.476+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T19:02:34.477+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T19:02:34.477+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T19:02:35.339+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:02:35.339+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T19:02:35.454+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 107 ms. Found 10 JPA repository interfaces.
2025-07-01T19:02:35.458+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:02:35.459+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:02:35.471+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2025-07-01T19:02:36.347+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:02:36.347+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:02:36.425+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:02:36.425+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:02:36.426+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:02:36.427+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:02:36.427+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:02:36.427+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:02:36.427+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:02:36.428+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:02:36.429+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:02:36.429+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:02:36.429+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 80 ms. Found 0 Redis repository interfaces.
2025-07-01T19:02:36.634+09:00 DEBUG 7052 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T19:02:37.516+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-01T19:02:37.533+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T19:02:37.533+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T19:02:37.632+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T19:02:37.633+09:00  INFO 7052 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3156 ms
2025-07-01T19:02:37.767+09:00 DEBUG 7052 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T19:02:37.807+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T19:02:37.971+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T19:02:38.010+09:00  INFO 7052 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T19:02:38.038+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T19:02:38.224+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T19:02:38.244+09:00  INFO 7052 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T19:02:38.517+09:00  INFO 7052 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38dd36f8
2025-07-01T19:02:38.518+09:00  INFO 7052 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T19:02:38.540+09:00  WARN 7052 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T19:02:38.553+09:00  INFO 7052 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T19:02:39.431+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T19:02:39.434+09:00  INFO 7052 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:02:39.985+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T19:02:40.844+09:00  WARN 7052 --- [hscode-radar] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tradeChatController' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\controller\TradeChatController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'tradeChatService' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeChatService.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'dev.langchain4j.model.chat.StreamingChatModel' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-07-01T19:02:40.964+09:00  INFO 7052 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:02:40.967+09:00  INFO 7052 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T19:02:40.972+09:00  INFO 7052 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T19:02:40.975+09:00  INFO 7052 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-01T19:02:40.987+09:00  INFO 7052 --- [hscode-radar] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-01T19:02:41.007+09:00 ERROR 7052 --- [hscode-radar] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.hscoderadar.domain.chat.service.TradeChatService required a bean of type 'dev.langchain4j.model.chat.StreamingChatModel' that could not be found.


Action:

Consider defining a bean of type 'dev.langchain4j.model.chat.StreamingChatModel' in your configuration.

2025-07-01T19:06:10.174+09:00  INFO 29028 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 29028 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T19:06:10.175+09:00 DEBUG 29028 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T19:06:10.176+09:00  INFO 29028 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T19:06:10.211+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T19:06:10.211+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T19:06:10.211+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T19:06:11.006+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:06:11.007+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T19:06:11.116+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 10 JPA repository interfaces.
2025-07-01T19:06:11.120+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:06:11.120+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:06:11.132+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-07-01T19:06:11.880+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:06:11.881+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:06:11.953+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:06:11.953+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:06:11.954+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:06:11.954+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:06:11.954+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:06:11.955+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:06:11.956+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:06:11.956+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:06:11.956+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:06:11.957+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:06:11.957+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 0 Redis repository interfaces.
2025-07-01T19:06:12.153+09:00 DEBUG 29028 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T19:06:13.141+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-01T19:06:13.151+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T19:06:13.152+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T19:06:13.246+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T19:06:13.246+09:00  INFO 29028 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3034 ms
2025-07-01T19:06:13.395+09:00 DEBUG 29028 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T19:06:13.446+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T19:06:13.605+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T19:06:13.643+09:00  INFO 29028 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T19:06:13.668+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T19:06:13.859+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T19:06:13.880+09:00  INFO 29028 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T19:06:14.124+09:00  INFO 29028 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5c6d92b1
2025-07-01T19:06:14.125+09:00  INFO 29028 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T19:06:14.149+09:00  WARN 29028 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T19:06:14.163+09:00  INFO 29028 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T19:06:15.076+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T19:06:15.078+09:00  INFO 29028 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:06:15.724+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T19:06:16.644+09:00  WARN 29028 --- [hscode-radar] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tradeChatController' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\controller\TradeChatController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'tradeChatService' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeChatService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'tradeRagService': Injection of autowired dependencies failed
2025-07-01T19:06:16.756+09:00  INFO 29028 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:06:16.758+09:00  INFO 29028 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T19:06:16.764+09:00  INFO 29028 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T19:06:16.766+09:00  INFO 29028 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-01T19:06:16.780+09:00  INFO 29028 --- [hscode-radar] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-01T19:06:16.794+09:00 ERROR 29028 --- [hscode-radar] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tradeChatController' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\controller\TradeChatController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'tradeChatService' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeChatService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'tradeRagService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.3.jar:3.5.3]
	at com.hscoderadar.HsCodeRadarApplication.main(HsCodeRadarApplication.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.3.jar:3.5.3]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tradeChatService' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeChatService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'tradeRagService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.8.jar:6.2.8]
	... 24 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tradeRagService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.8.jar:6.2.8]
	... 37 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'app.voyage.api-key' in value "${app.voyage.api-key}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:423) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:293) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:264) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:186) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:971) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1650) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.8.jar:6.2.8]
	... 48 common frames omitted

2025-07-01T19:11:34.598+09:00  INFO 12100 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 12100 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T19:11:34.600+09:00 DEBUG 12100 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T19:11:34.601+09:00  INFO 12100 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T19:11:34.639+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T19:11:34.639+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T19:11:34.639+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T19:11:35.371+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:11:35.372+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T19:11:35.472+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 93 ms. Found 10 JPA repository interfaces.
2025-07-01T19:11:35.477+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:11:35.477+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:11:35.488+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-07-01T19:11:36.264+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:11:36.265+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:11:36.335+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:11:36.336+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:11:36.336+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:11:36.337+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:11:36.337+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:11:36.338+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:11:36.338+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:11:36.339+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:11:36.339+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:11:36.339+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:11:36.340+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 71 ms. Found 0 Redis repository interfaces.
2025-07-01T19:11:36.531+09:00 DEBUG 12100 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T19:11:37.478+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-01T19:11:37.491+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T19:11:37.491+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T19:11:37.586+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T19:11:37.586+09:00  INFO 12100 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2946 ms
2025-07-01T19:11:37.732+09:00 DEBUG 12100 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T19:11:37.785+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T19:11:37.987+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T19:11:38.032+09:00  INFO 12100 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T19:11:38.062+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T19:11:38.262+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T19:11:38.282+09:00  INFO 12100 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T19:11:38.571+09:00  INFO 12100 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@53b5dd4e
2025-07-01T19:11:38.572+09:00  INFO 12100 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T19:11:38.594+09:00  WARN 12100 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T19:11:38.607+09:00  INFO 12100 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T19:11:39.545+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T19:11:39.547+09:00  INFO 12100 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:11:40.088+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T19:11:41.072+09:00  WARN 12100 --- [hscode-radar] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tradeChatController' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\controller\TradeChatController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'tradeChatService' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeChatService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'tradeRagService' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeRagService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'dev.langchain4j.model.embedding.EmbeddingModel' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-07-01T19:11:41.193+09:00  INFO 12100 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:11:41.195+09:00  INFO 12100 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T19:11:41.201+09:00  INFO 12100 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T19:11:41.204+09:00  INFO 12100 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-01T19:11:41.217+09:00  INFO 12100 --- [hscode-radar] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-01T19:11:41.237+09:00 ERROR 12100 --- [hscode-radar] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.hscoderadar.domain.chat.service.TradeRagService required a bean of type 'dev.langchain4j.model.embedding.EmbeddingModel' that could not be found.


Action:

Consider defining a bean of type 'dev.langchain4j.model.embedding.EmbeddingModel' in your configuration.

2025-07-01T19:24:37.092+09:00  INFO 30784 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 30784 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T19:24:37.093+09:00 DEBUG 30784 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T19:24:37.094+09:00  INFO 30784 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T19:24:37.130+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T19:24:37.130+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T19:24:37.131+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T19:24:37.883+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:24:37.884+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T19:24:37.992+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 101 ms. Found 10 JPA repository interfaces.
2025-07-01T19:24:37.997+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:24:37.998+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:24:38.008+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-07-01T19:24:38.717+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:24:38.717+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:24:38.790+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:24:38.790+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:24:38.790+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:24:38.792+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:24:38.792+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:24:38.792+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:24:38.793+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:24:38.793+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:24:38.793+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:24:38.794+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:24:38.794+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 76 ms. Found 0 Redis repository interfaces.
2025-07-01T19:24:38.992+09:00 DEBUG 30784 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T19:24:40.021+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-01T19:24:40.038+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T19:24:40.038+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T19:24:40.134+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T19:24:40.135+09:00  INFO 30784 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3004 ms
2025-07-01T19:24:40.288+09:00 DEBUG 30784 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T19:24:40.329+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T19:24:40.478+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T19:24:40.512+09:00  INFO 30784 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T19:24:40.533+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T19:24:40.720+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T19:24:40.741+09:00  INFO 30784 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T19:24:41.027+09:00  INFO 30784 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2505eb4f
2025-07-01T19:24:41.028+09:00  INFO 30784 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T19:24:41.051+09:00  WARN 30784 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T19:24:41.064+09:00  INFO 30784 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T19:24:41.962+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T19:24:41.964+09:00  INFO 30784 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:24:42.567+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T19:24:43.453+09:00  WARN 30784 --- [hscode-radar] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tradeChatController' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\controller\TradeChatController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'tradeChatService' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeChatService.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'tradeRagService' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeRagService.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'dev.langchain4j.model.embedding.EmbeddingModel' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-07-01T19:24:43.565+09:00  INFO 30784 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:24:43.568+09:00  INFO 30784 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T19:24:43.575+09:00  INFO 30784 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T19:24:43.578+09:00  INFO 30784 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-01T19:24:43.589+09:00  INFO 30784 --- [hscode-radar] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-01T19:24:43.608+09:00 ERROR 30784 --- [hscode-radar] [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in com.hscoderadar.domain.chat.service.TradeRagService required a bean of type 'dev.langchain4j.model.embedding.EmbeddingModel' that could not be found.


Action:

Consider defining a bean of type 'dev.langchain4j.model.embedding.EmbeddingModel' in your configuration.

2025-07-01T19:40:29.836+09:00  INFO 35872 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 35872 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T19:40:29.837+09:00 DEBUG 35872 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T19:40:29.838+09:00  INFO 35872 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T19:40:29.874+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T19:40:29.874+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T19:40:29.874+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T19:40:30.647+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:40:30.647+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T19:40:30.753+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 97 ms. Found 10 JPA repository interfaces.
2025-07-01T19:40:30.756+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:40:30.756+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:40:30.768+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-07-01T19:40:31.517+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:40:31.518+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:40:31.586+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:40:31.586+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:40:31.588+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:40:31.589+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:40:31.589+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:40:31.590+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:40:31.591+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:40:31.591+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:40:31.592+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:40:31.592+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:40:31.592+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 73 ms. Found 0 Redis repository interfaces.
2025-07-01T19:40:31.782+09:00 DEBUG 35872 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T19:40:32.771+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-01T19:40:32.790+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T19:40:32.791+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T19:40:32.884+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T19:40:32.885+09:00  INFO 35872 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3010 ms
2025-07-01T19:40:33.004+09:00 DEBUG 35872 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T19:40:33.042+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T19:40:33.214+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T19:40:33.263+09:00  INFO 35872 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T19:40:33.304+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T19:40:33.494+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T19:40:33.515+09:00  INFO 35872 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T19:40:33.783+09:00  INFO 35872 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@695258a4
2025-07-01T19:40:33.784+09:00  INFO 35872 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T19:40:33.807+09:00  WARN 35872 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T19:40:33.820+09:00  INFO 35872 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T19:40:34.728+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T19:40:34.730+09:00  INFO 35872 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:40:35.370+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T19:40:36.262+09:00  INFO 35872 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T19:40:36.268+09:00  INFO 35872 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: hscode_vectors, 차원: 1024
2025-07-01T19:40:36.355+09:00  WARN 35872 --- [hscode-radar] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'claudeController' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\claude\controller\ClaudeController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'claudeService': Injection of autowired dependencies failed
2025-07-01T19:40:36.481+09:00  INFO 35872 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:40:36.483+09:00  INFO 35872 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T19:40:36.488+09:00  INFO 35872 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T19:40:36.491+09:00  INFO 35872 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-01T19:40:36.503+09:00  INFO 35872 --- [hscode-radar] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-01T19:40:36.517+09:00 ERROR 35872 --- [hscode-radar] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'claudeController' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\claude\controller\ClaudeController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'claudeService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.3.jar:3.5.3]
	at com.hscoderadar.HsCodeRadarApplication.main(HsCodeRadarApplication.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.3.jar:3.5.3]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'claudeService': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1683) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.8.jar:6.2.8]
	... 24 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'app.claude.api-key' in value "${app.claude.api-key}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:423) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:293) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:264) ~[spring-core-6.2.8.jar:6.2.8]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:186) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:971) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1650) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.8.jar:6.2.8]
	... 35 common frames omitted

2025-07-01T19:45:07.121+09:00  INFO 31012 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 31012 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T19:45:07.123+09:00 DEBUG 31012 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T19:45:07.124+09:00  INFO 31012 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T19:45:07.160+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T19:45:07.160+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T19:45:07.160+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T19:45:07.943+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:45:07.944+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T19:45:08.052+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 10 JPA repository interfaces.
2025-07-01T19:45:08.056+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:45:08.056+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:45:08.067+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-07-01T19:45:08.826+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:45:08.826+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:45:08.895+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:45:08.895+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:45:08.896+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:45:08.896+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:45:08.897+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:45:08.897+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:45:08.897+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:45:08.898+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:45:08.898+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:45:08.899+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:45:08.899+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 0 Redis repository interfaces.
2025-07-01T19:45:09.102+09:00 DEBUG 31012 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T19:45:10.058+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2025-07-01T19:45:10.068+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T19:45:10.068+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T19:45:10.162+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T19:45:10.162+09:00  INFO 31012 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3001 ms
2025-07-01T19:45:10.274+09:00 DEBUG 31012 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T19:45:10.313+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T19:45:10.463+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T19:45:10.495+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T19:45:10.517+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T19:45:10.694+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T19:45:10.718+09:00  INFO 31012 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T19:45:10.969+09:00  INFO 31012 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@695258a4
2025-07-01T19:45:10.971+09:00  INFO 31012 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T19:45:10.992+09:00  WARN 31012 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T19:45:11.006+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T19:45:11.935+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T19:45:11.939+09:00  INFO 31012 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:45:12.422+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T19:45:13.370+09:00  INFO 31012 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T19:45:13.376+09:00  INFO 31012 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: hscode_vectors, 차원: 1024
2025-07-01T19:45:14.033+09:00  WARN 31012 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T19:45:14.111+09:00 DEBUG 31012 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T19:45:14.158+09:00 DEBUG 31012 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T19:45:14.263+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T19:45:14.271+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T19:45:14.272+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T19:45:14.272+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T19:45:14.272+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T19:45:14.273+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T19:45:14.273+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T19:45:14.273+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@50a2e8fd
2025-07-01T19:45:14.296+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T19:45:14.318+09:00  INFO 31012 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T19:45:14.368+09:00  WARN 31012 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T19:45:14.474+09:00 DEBUG 31012 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T19:45:14.502+09:00 DEBUG 31012 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T19:45:14.646+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T19:45:14.686+09:00  INFO 31012 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T19:45:14.791+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/api'
2025-07-01T19:45:14.793+09:00  INFO 31012 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T19:45:14.793+09:00  INFO 31012 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T19:45:14.807+09:00  INFO 31012 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 8.054 seconds (process running for 8.914)
2025-07-01T19:45:15.755+09:00  INFO 31012 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01T19:45:15.756+09:00  INFO 31012 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-01T19:45:15.756+09:00 DEBUG 31012 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-01T19:45:15.756+09:00 DEBUG 31012 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-01T19:45:15.756+09:00 DEBUG 31012 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-01T19:45:15.757+09:00 DEBUG 31012 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@338df91
2025-07-01T19:45:15.758+09:00 DEBUG 31012 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3cf175a3
2025-07-01T19:45:15.758+09:00 DEBUG 31012 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01T19:45:15.758+09:00  INFO 31012 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-01T19:47:47.109+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 17808 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T19:47:47.110+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T19:47:47.111+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T19:47:47.145+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T19:47:47.145+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T19:47:47.145+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T19:47:47.914+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:47:47.914+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T19:47:48.018+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 10 JPA repository interfaces.
2025-07-01T19:47:48.022+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:47:48.023+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:47:48.034+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-07-01T19:47:48.840+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:47:48.841+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:47:48.936+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:47:48.936+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:47:48.937+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:47:48.938+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:47:48.938+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:47:48.939+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:47:48.939+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:47:48.940+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:47:48.940+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:47:48.940+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:47:48.940+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 0 Redis repository interfaces.
2025-07-01T19:47:49.139+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T19:47:50.164+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T19:47:50.176+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T19:47:50.177+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T19:47:50.264+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T19:47:50.265+09:00  INFO 17808 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3119 ms
2025-07-01T19:47:50.394+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T19:47:50.442+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T19:47:50.593+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T19:47:50.633+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T19:47:50.659+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T19:47:50.839+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T19:47:50.862+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T19:47:51.149+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@12e76a8e
2025-07-01T19:47:51.150+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T19:47:51.169+09:00  WARN 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T19:47:51.182+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T19:47:52.058+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T19:47:52.061+09:00  INFO 17808 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:47:52.719+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T19:47:53.579+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T19:47:53.587+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: hscode_vectors, 차원: 1024
2025-07-01T19:47:54.286+09:00  WARN 17808 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T19:47:54.376+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T19:47:54.423+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T19:47:54.548+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T19:47:54.560+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T19:47:54.560+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T19:47:54.561+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T19:47:54.561+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T19:47:54.562+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T19:47:54.562+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T19:47:54.562+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@16f3808b
2025-07-01T19:47:54.595+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T19:47:54.624+09:00  INFO 17808 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T19:47:54.698+09:00  WARN 17808 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T19:47:54.821+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T19:47:54.849+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T19:47:55.027+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T19:47:55.071+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T19:47:55.182+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T19:47:55.184+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T19:47:55.184+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T19:47:55.201+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 8.438 seconds (process running for 9.305)
2025-07-01T19:47:55.708+09:00  INFO 17808 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01T19:47:55.708+09:00  INFO 17808 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-01T19:47:55.709+09:00 DEBUG 17808 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-01T19:47:55.709+09:00 DEBUG 17808 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-01T19:47:55.709+09:00 DEBUG 17808 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-01T19:47:55.710+09:00 DEBUG 17808 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@fb31ae7
2025-07-01T19:47:55.711+09:00 DEBUG 17808 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@533179d1
2025-07-01T19:47:55.711+09:00 DEBUG 17808 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01T19:47:55.711+09:00  INFO 17808 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-07-01T19:48:30.083+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T19:48:30.083+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T19:48:30.093+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T19:48:30.093+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T19:48:30.094+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T19:48:30.094+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T19:48:30.105+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T19:48:30.107+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T19:48:30.110+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T19:48:30.110+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T19:48:30.170+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T19:48:30.220+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T19:48:30.241+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T19:48:30.244+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T19:48:30.244+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T19:48:30.245+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T19:48:30.250+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T19:48:30.255+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T19:48:30.315+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:48:30.316+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T19:48:30.316+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T19:48:30.317+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T19:48:30.318+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T19:48:30.338+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T19:48:30.517+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T19:48:30.528+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:48:30.546+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:48:30.556+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T19:48:30.566+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:48:30.571+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T19:48:30.573+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=8d45d8b4-54c7-4db7-89ba-22ae0b919c20, reason=TOKEN_REFRESH, userId=6
2025-07-01T19:48:30.592+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=8d45d8b4-54c7-4db7-89ba-22ae0b919c20, reason=TOKEN_REFRESH, userId=6
2025-07-01T19:48:30.593+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T19:48:30.596+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T19:48:30.596+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T19:48:30.597+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T19:48:30.597+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T19:48:30.623+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T19:48:30.628+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T19:48:30.633+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:48:30.634+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T19:48:30.634+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T19:48:30.634+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T19:48:30.637+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T19:48:30.639+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T19:48:30.649+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T19:48:30.683+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:48:30.686+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:48:30.688+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T19:48:30.690+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T19:48:30.690+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T19:48:30.691+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T19:48:30.695+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:48:30.695+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T19:48:30.696+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T19:48:30.696+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T19:48:30.699+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T19:48:30.700+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T19:48:35.096+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T19:48:35.099+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:48:35.101+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:48:35.103+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T19:48:35.104+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T19:48:35.104+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-07-01T19:48:35.106+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-07-01T19:48:35.107+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.hscoderadar.common.exception.GlobalExceptionHandler#handleGeneralException(Exception)
2025-07-01T19:48:35.108+09:00 ERROR 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.exception.GlobalExceptionHandler   : 예상치 못한 예외: 

org.springframework.web.servlet.resource.NoResourceFoundException: No static resource chat.
	at org.springframework.web.servlet.resource.ResourceHttpRequestHandler.handleRequest(ResourceHttpRequestHandler.java:585) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter.handle(HttpRequestHandlerAdapter.java:52) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at com.hscoderadar.config.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:147) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-01T19:48:35.117+09:00 ERROR 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.exception.GlobalExceptionHandler   : API 에러 발생: COMMON_002 - 서버에서 오류가 발생함
2025-07-01T19:48:35.120+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : No match for [text/event-stream], supported: [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:48:35.121+09:00  WARN 17808 --- [hscode-radar] [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler com.hscoderadar.common.exception.GlobalExceptionHandler#handleGeneralException(Exception)

org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:291) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:471) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:73) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:182) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1359) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at com.hscoderadar.config.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:147) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]

2025-07-01T19:48:35.125+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource chat.]
2025-07-01T19:48:35.125+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-07-01T19:48:35.127+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/api/error", parameters={}
2025-07-01T19:48:35.127+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2025-07-01T19:48:35.130+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : No match for [text/event-stream], supported: [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:48:35.131+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#mediaTypeNotAcceptable(HttpServletRequest)
2025-07-01T19:48:35.132+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/event-stream', given [text/event-stream] and supported [text/plain, */*, application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:48:35.132+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class org.springframework.http.ResponseEntity
2025-07-01T19:48:35.133+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Content-Type set to application/json for API response
2025-07-01T19:48:35.133+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 요청이 성공적으로 처리됨
2025-07-01T19:48:35.134+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : String response converted to JSON: {
  "success" : "SUCCESS",
  "message" : "요청이 성공적으로 처리됨",
  "data" : null
}
2025-07-01T19:48:35.134+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["{<EOL><EOL>  "success" : "SUCCESS",<EOL><EOL>  "message" : "요청이 성공적으로 처리됨",<EOL><EOL>  "data" : null<EOL><EOL>}"]
2025-07-01T19:48:35.135+09:00  WARN 17808 --- [hscode-radar] [http-nio-8081-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation]
2025-07-01T19:48:35.135+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 404
2025-07-01T19:49:10.095+09:00  INFO 17808 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-07-01T19:49:10.097+09:00  INFO 17808 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T19:49:10.098+09:00  INFO 17808 --- [hscode-radar] [Thread-4] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T19:49:10.118+09:00  INFO 17808 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T19:49:10.250+09:00  INFO 17808 --- [hscode-radar] [Thread-4] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T19:49:10.250+09:00  INFO 17808 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T19:49:10.250+09:00  INFO 17808 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T19:49:10.251+09:00  INFO 17808 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T19:49:10.254+09:00  INFO 17808 --- [hscode-radar] [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:49:10.256+09:00  INFO 17808 --- [hscode-radar] [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T19:49:10.262+09:00  INFO 17808 --- [hscode-radar] [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T19:49:10.331+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 17808 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T19:49:10.331+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T19:49:10.331+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T19:49:10.581+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:49:10.581+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T19:49:10.602+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 10 JPA repository interfaces.
2025-07-01T19:49:10.602+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:49:10.602+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:49:10.606+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-01T19:49:10.700+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:49:10.700+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:49:10.750+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:10.750+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:10.750+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:10.750+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:10.750+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:10.751+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:10.751+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:10.751+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:10.751+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:10.751+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:10.751+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 0 Redis repository interfaces.
2025-07-01T19:49:10.833+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T19:49:10.913+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T19:49:10.913+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T19:49:10.913+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T19:49:10.976+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T19:49:10.976+09:00  INFO 17808 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 643 ms
2025-07-01T19:49:10.996+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T19:49:11.000+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T19:49:11.061+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T19:49:11.064+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T19:49:11.069+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T19:49:11.070+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-01T19:49:11.103+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5fded793
2025-07-01T19:49:11.103+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-01T19:49:11.106+09:00  WARN 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T19:49:11.107+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T19:49:11.260+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T19:49:11.261+09:00  INFO 17808 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:49:11.436+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T19:49:11.438+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: hscode_vectors, 차원: 1024
2025-07-01T19:49:11.564+09:00  WARN 17808 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T19:49:11.584+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T19:49:11.593+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T19:49:11.616+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T19:49:11.617+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T19:49:11.617+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T19:49:11.617+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T19:49:11.617+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T19:49:11.618+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T19:49:11.618+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T19:49:11.618+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@38288567
2025-07-01T19:49:11.625+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T19:49:11.631+09:00  INFO 17808 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T19:49:11.639+09:00  WARN 17808 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T19:49:11.671+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T19:49:11.674+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T19:49:11.717+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T19:49:11.721+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T19:49:11.743+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T19:49:11.744+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T19:49:11.744+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T19:49:11.748+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.436 seconds (process running for 85.853)
2025-07-01T19:49:11.750+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T19:49:18.367+09:00  INFO 17808 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-07-01T19:49:18.368+09:00  INFO 17808 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T19:49:18.368+09:00  INFO 17808 --- [hscode-radar] [Thread-8] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T19:49:18.389+09:00  INFO 17808 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T19:49:18.493+09:00  INFO 17808 --- [hscode-radar] [Thread-8] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T19:49:18.494+09:00  INFO 17808 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T19:49:18.494+09:00  INFO 17808 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T19:49:18.494+09:00  INFO 17808 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T19:49:18.495+09:00  INFO 17808 --- [hscode-radar] [Thread-8] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:49:18.495+09:00  INFO 17808 --- [hscode-radar] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-01T19:49:18.500+09:00  INFO 17808 --- [hscode-radar] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-01T19:49:18.566+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 17808 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T19:49:18.567+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T19:49:18.567+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T19:49:18.798+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:49:18.798+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T19:49:18.818+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 10 JPA repository interfaces.
2025-07-01T19:49:18.818+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:49:18.819+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:49:18.822+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-01T19:49:18.909+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:49:18.909+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:49:18.956+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:18.957+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:18.957+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:18.957+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:18.957+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:18.957+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:18.958+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:18.958+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:18.958+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:18.959+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:18.959+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
2025-07-01T19:49:19.036+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T19:49:19.108+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T19:49:19.108+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T19:49:19.109+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T19:49:19.171+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T19:49:19.171+09:00  INFO 17808 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 603 ms
2025-07-01T19:49:19.188+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T19:49:19.192+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T19:49:19.247+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T19:49:19.249+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T19:49:19.254+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T19:49:19.254+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-01T19:49:19.281+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@33ee1fb0
2025-07-01T19:49:19.281+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-01T19:49:19.283+09:00  WARN 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T19:49:19.284+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T19:49:19.424+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T19:49:19.425+09:00  INFO 17808 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:49:19.585+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T19:49:19.587+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: hscode_vectors, 차원: 1024
2025-07-01T19:49:19.701+09:00  WARN 17808 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T19:49:19.717+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T19:49:19.726+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T19:49:19.744+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T19:49:19.745+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T19:49:19.745+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T19:49:19.745+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T19:49:19.746+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T19:49:19.746+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T19:49:19.746+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T19:49:19.746+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@6ff764bd
2025-07-01T19:49:19.752+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T19:49:19.756+09:00  INFO 17808 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T19:49:19.765+09:00  WARN 17808 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T19:49:19.796+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T19:49:19.799+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T19:49:19.837+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T19:49:19.842+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T19:49:19.864+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T19:49:19.864+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T19:49:19.865+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T19:49:19.868+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.319 seconds (process running for 93.972)
2025-07-01T19:49:19.868+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T19:49:25.440+09:00  INFO 17808 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-07-01T19:49:25.441+09:00  INFO 17808 --- [hscode-radar] [Thread-12] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T19:49:25.442+09:00  INFO 17808 --- [hscode-radar] [Thread-12] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T19:49:25.462+09:00  INFO 17808 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T19:49:25.577+09:00  INFO 17808 --- [hscode-radar] [Thread-12] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T19:49:25.577+09:00  INFO 17808 --- [hscode-radar] [Thread-12] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T19:49:25.577+09:00  INFO 17808 --- [hscode-radar] [Thread-12] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T19:49:25.577+09:00  INFO 17808 --- [hscode-radar] [Thread-12] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T19:49:25.579+09:00  INFO 17808 --- [hscode-radar] [Thread-12] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:49:25.579+09:00  INFO 17808 --- [hscode-radar] [Thread-12] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-01T19:49:25.584+09:00  INFO 17808 --- [hscode-radar] [Thread-12] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-01T19:49:25.646+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 17808 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T19:49:25.646+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T19:49:25.647+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T19:49:25.858+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:49:25.858+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T19:49:25.876+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 17 ms. Found 10 JPA repository interfaces.
2025-07-01T19:49:25.877+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:49:25.877+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:49:25.880+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-01T19:49:25.955+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T19:49:25.955+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T19:49:26.003+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:26.003+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:26.003+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:26.004+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:26.004+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:26.004+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:26.004+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:26.004+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:26.005+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:26.005+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T19:49:26.005+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
2025-07-01T19:49:26.082+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T19:49:26.146+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T19:49:26.147+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T19:49:26.147+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T19:49:26.208+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T19:49:26.208+09:00  INFO 17808 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 560 ms
2025-07-01T19:49:26.224+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T19:49:26.228+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T19:49:26.285+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T19:49:26.287+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T19:49:26.295+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T19:49:26.296+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-07-01T19:49:26.322+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@5cce8274
2025-07-01T19:49:26.322+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-07-01T19:49:26.325+09:00  WARN 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T19:49:26.326+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T19:49:26.430+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T19:49:26.430+09:00  INFO 17808 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T19:49:26.574+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T19:49:26.576+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: hscode_vectors, 차원: 1024
2025-07-01T19:49:26.678+09:00  WARN 17808 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T19:49:26.692+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T19:49:26.699+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T19:49:26.716+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T19:49:26.717+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T19:49:26.717+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T19:49:26.717+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T19:49:26.717+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T19:49:26.718+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T19:49:26.718+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T19:49:26.718+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@12667088
2025-07-01T19:49:26.723+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T19:49:26.727+09:00  INFO 17808 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T19:49:26.737+09:00  WARN 17808 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T19:49:26.769+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T19:49:26.772+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T19:49:26.806+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T19:49:26.810+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T19:49:26.832+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T19:49:26.833+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T19:49:26.833+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T19:49:26.836+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.204 seconds (process running for 100.941)
2025-07-01T19:49:26.837+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T19:49:27.956+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01T19:49:27.956+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-01T19:49:27.956+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-01T19:49:27.956+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-01T19:49:27.957+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-01T19:49:27.957+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@48b30e54
2025-07-01T19:49:27.958+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7bd09000
2025-07-01T19:49:27.958+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01T19:49:27.958+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-01T19:49:27.966+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T19:49:28.028+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:49:28.031+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:49:28.035+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T19:49:28.036+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T19:49:28.036+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T19:49:28.039+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T19:49:28.052+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T19:49:28.055+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T19:49:28.055+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T19:49:28.055+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T19:49:28.055+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T19:49:28.057+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T19:49:28.059+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T19:49:28.060+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:49:28.060+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T19:49:28.060+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T19:49:28.061+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T19:49:28.062+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T19:49:28.067+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T19:49:29.374+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T19:49:29.374+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T19:49:29.375+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T19:49:29.375+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T19:49:29.375+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T19:49:29.375+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T19:49:29.376+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T19:49:29.377+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T19:49:29.377+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T19:49:29.378+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T19:49:29.378+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T19:49:29.382+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T19:49:29.387+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:49:29.390+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T19:49:29.390+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:49:29.393+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T19:49:29.394+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T19:49:29.394+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T19:49:29.394+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T19:49:29.394+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T19:49:29.397+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T19:49:29.397+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:49:29.397+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T19:49:29.398+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:49:29.398+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T19:49:29.399+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T19:49:29.399+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T19:49:29.399+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T19:49:29.400+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T19:49:29.401+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=196febcd-58e2-41c7-bcaf-439b582e0e0b, reason=TOKEN_REFRESH, userId=6
2025-07-01T19:49:29.402+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=196febcd-58e2-41c7-bcaf-439b582e0e0b, reason=TOKEN_REFRESH, userId=6
2025-07-01T19:49:29.402+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T19:49:29.403+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T19:49:29.405+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T19:49:29.405+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T19:49:29.405+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T19:49:29.406+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T19:49:29.409+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T19:49:29.413+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T19:49:29.419+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:49:29.419+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T19:49:29.420+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T19:49:29.420+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T19:49:29.421+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T19:49:29.421+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T19:49:29.428+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T19:49:29.431+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:49:29.433+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:49:29.435+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T19:49:29.435+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T19:49:29.435+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T19:49:29.436+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T19:49:29.440+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:49:29.440+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T19:49:29.440+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T19:49:29.440+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T19:49:29.441+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T19:49:29.442+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T19:49:31.948+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T19:49:31.950+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:49:31.952+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:49:31.953+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T19:49:31.954+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T19:49:31.955+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T19:49:31.979+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=하이, sessionId=null, clientId=null, modelName=null, temperature=null, maxTok (truncated)...]
2025-07-01T19:49:32.006+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 - 사용자: user_5943, 메시지 길이: 2, 회원 여부: true, 세션: null
2025-07-01T19:49:32.014+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 - 응답 ID: trade-chat-v61-1751366972007-6944259c, 사용자: 회원:user_5943, 회원: true
2025-07-01T19:49:32.614+09:00 ERROR 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.chat.service.TradeChatService      : 무역 의도 분석 실패: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13587

java.lang.RuntimeException: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13587
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:340) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	at dev.langchain4j.rag.content.retriever.EmbeddingStoreContentRetriever.retrieve(EmbeddingStoreContentRetriever.java:237) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.rag.DefaultRetrievalAugmentor.process(DefaultRetrievalAugmentor.java:168) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.rag.DefaultRetrievalAugmentor.augment(DefaultRetrievalAugmentor.java:150) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.service.DefaultAiServices$1.invoke(DefaultAiServices.java:166) ~[langchain4j-1.1.0.jar:na]
	at jdk.proxy7/jdk.proxy7.$Proxy318.analyzeTradeIntent(Unknown Source) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.analyzeTradeIntent(TradeChatService.java:314) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$0(TradeChatService.java:67) ~[classes/:na]
	at reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:97) ~[reactor-core-3.7.7.jar:3.7.7]
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891) ~[reactor-core-3.7.7.jar:3.7.7]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler$AbstractEmitterSubscriber.connect(ReactiveTypeHandler.java:283) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler.handleValue(ReactiveTypeHandler.java:167) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitterReturnValueHandler.handleReturnValue(ResponseBodyEmitterReturnValueHandler.java:210) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at com.hscoderadar.config.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:147) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13587
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139) ~[postgresql-42.7.7.jar:42.7.7]
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:321) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	... 175 common frames omitted

2025-07-01T19:49:34.266+09:00  INFO 17808 --- [hscode-radar] [pool-16-thread-1] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 하이
2025-07-01T19:49:34.266+09:00  INFO 17808 --- [hscode-radar] [pool-16-thread-3] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 - 사용자: user_5943, 세션: null
2025-07-01T19:49:34.491+09:00 ERROR 17808 --- [hscode-radar] [pool-16-thread-1] c.h.domain.chat.service.TradeRagService  : ❌ HSCode 의미적 검색 실패: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13587

java.lang.RuntimeException: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13587
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:340) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	at com.hscoderadar.domain.chat.service.TradeRagService.searchHsCodesBySemantic(TradeRagService.java:79) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.searchHsCodesBySemantic(TradeChatService.java:329) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:163) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13587
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139) ~[postgresql-42.7.7.jar:42.7.7]
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:321) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	... 7 common frames omitted

2025-07-01T19:49:34.507+09:00  INFO 17808 --- [hscode-radar] [pool-16-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...5_], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "사용자 질문: 하이\n\n관련 HSCode 정보 (voyage-3-large 1024차원 검색 결과):\n- HSCode: 일반, 품목: 무역 정보, 설명: 더 구체적인 정보를 제공해주시면 정확한 HSCode를 안내드릴 수 있습니다. (신뢰도: 0.50)\n\n위 RAG 검색 결과를 참고하여 정확하고 구체적인 답변을 제공해주세요."
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T19:49:34.851+09:00 ERROR 17808 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] c.h.d.chat.service.TradeChatService      : Claude 스트리밍 응답 오류: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T19:49:34.851+09:00 ERROR 17808 --- [hscode-radar] [pool-16-thread-1] c.h.d.chat.service.TradeChatService      : RAG 기반 AI 응답 생성 실패: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

java.util.concurrent.ExecutionException: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.generateActualAIResponseWithRAG(TradeChatService.java:299) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:166) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T19:49:34.853+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T19:49:34.870+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T19:49:34.870+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T19:49:34.870+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T19:49:34.872+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T19:49:34.872+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T19:49:34.873+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T19:49:34.873+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T19:51:49.097+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T19:51:49.099+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:51:49.101+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:51:49.103+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T19:51:49.103+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T19:51:49.103+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T19:51:49.104+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T19:51:49.111+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-10] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T19:51:49.113+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T19:51:49.113+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T19:51:49.113+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T19:51:49.113+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T19:51:49.115+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T19:51:49.116+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T19:51:49.116+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:51:49.117+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T19:51:49.117+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T19:51:49.117+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T19:51:49.117+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T19:51:49.118+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T19:56:28.877+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T19:56:28.877+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T19:56:28.878+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T19:56:28.878+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T19:56:28.879+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T19:56:28.879+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T19:56:28.879+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T19:56:28.879+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T19:56:28.880+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T19:56:28.880+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T19:56:28.880+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T19:56:28.882+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T19:56:28.883+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:56:28.887+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:56:28.889+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T19:56:28.890+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T19:56:28.892+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:56:28.892+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T19:56:28.892+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T19:56:28.893+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T19:56:28.893+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T19:56:28.893+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T19:56:28.895+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T19:56:28.895+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=010818a4-9165-4f2a-85d1-f673d23af3b8, reason=TOKEN_REFRESH, userId=6
2025-07-01T19:56:28.896+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T19:56:28.896+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:56:28.897+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T19:56:28.897+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=010818a4-9165-4f2a-85d1-f673d23af3b8, reason=TOKEN_REFRESH, userId=6
2025-07-01T19:56:28.897+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T19:56:28.897+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T19:56:28.897+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T19:56:28.898+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T19:56:28.898+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T19:56:28.899+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T19:56:28.900+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T19:56:28.900+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T19:56:28.900+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T19:56:28.901+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T19:56:28.903+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T19:56:28.903+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:56:28.904+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T19:56:28.904+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T19:56:28.904+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T19:56:28.904+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T19:56:28.905+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T19:56:28.911+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T19:56:28.914+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:56:28.915+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:56:28.918+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T19:56:28.918+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T19:56:28.919+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T19:56:28.919+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T19:56:28.919+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:56:28.919+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T19:56:28.919+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T19:56:28.920+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T19:56:28.920+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T19:56:28.920+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T19:56:42.376+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T19:56:42.378+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:56:42.381+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:56:42.382+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T19:56:42.382+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T19:56:42.382+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T19:56:42.383+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=하이?, sessionId=null, clientId=null, modelName=null, temperature=null, maxTo (truncated)...]
2025-07-01T19:56:42.383+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 - 사용자: user_4407, 메시지 길이: 3, 회원 여부: true, 세션: null
2025-07-01T19:56:42.384+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 - 응답 ID: trade-chat-v61-1751367402383-76c21f68, 사용자: 회원:user_4407, 회원: true
2025-07-01T19:56:42.771+09:00 ERROR 17808 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.chat.service.TradeChatService      : 무역 의도 분석 실패: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13549

java.lang.RuntimeException: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13549
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:340) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	at dev.langchain4j.rag.content.retriever.EmbeddingStoreContentRetriever.retrieve(EmbeddingStoreContentRetriever.java:237) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.rag.DefaultRetrievalAugmentor.process(DefaultRetrievalAugmentor.java:168) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.rag.DefaultRetrievalAugmentor.augment(DefaultRetrievalAugmentor.java:150) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.service.DefaultAiServices$1.invoke(DefaultAiServices.java:166) ~[langchain4j-1.1.0.jar:na]
	at jdk.proxy7/jdk.proxy7.$Proxy318.analyzeTradeIntent(Unknown Source) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.analyzeTradeIntent(TradeChatService.java:314) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$0(TradeChatService.java:67) ~[classes/:na]
	at reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:97) ~[reactor-core-3.7.7.jar:3.7.7]
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891) ~[reactor-core-3.7.7.jar:3.7.7]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler$AbstractEmitterSubscriber.connect(ReactiveTypeHandler.java:283) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler.handleValue(ReactiveTypeHandler.java:167) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitterReturnValueHandler.handleReturnValue(ResponseBodyEmitterReturnValueHandler.java:210) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at com.hscoderadar.config.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:147) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13549
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139) ~[postgresql-42.7.7.jar:42.7.7]
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:321) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	... 175 common frames omitted

2025-07-01T19:56:44.379+09:00  INFO 17808 --- [hscode-radar] [pool-16-thread-4] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 하이?
2025-07-01T19:56:44.379+09:00  INFO 17808 --- [hscode-radar] [pool-16-thread-6] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 - 사용자: user_4407, 세션: null
2025-07-01T19:56:44.588+09:00 ERROR 17808 --- [hscode-radar] [pool-16-thread-4] c.h.domain.chat.service.TradeRagService  : ❌ HSCode 의미적 검색 실패: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13549

java.lang.RuntimeException: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13549
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:340) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	at com.hscoderadar.domain.chat.service.TradeRagService.searchHsCodesBySemantic(TradeRagService.java:79) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.searchHsCodesBySemantic(TradeChatService.java:329) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:163) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13549
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139) ~[postgresql-42.7.7.jar:42.7.7]
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:321) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	... 7 common frames omitted

2025-07-01T19:56:44.589+09:00  INFO 17808 --- [hscode-radar] [pool-16-thread-4] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...5_], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "사용자 질문: 하이?\n\n관련 HSCode 정보 (voyage-3-large 1024차원 검색 결과):\n- HSCode: 일반, 품목: 무역 정보, 설명: 더 구체적인 정보를 제공해주시면 정확한 HSCode를 안내드릴 수 있습니다. (신뢰도: 0.50)\n\n위 RAG 검색 결과를 참고하여 정확하고 구체적인 답변을 제공해주세요."
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T19:56:44.883+09:00 ERROR 17808 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] c.h.d.chat.service.TradeChatService      : Claude 스트리밍 응답 오류: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T19:56:44.883+09:00 ERROR 17808 --- [hscode-radar] [pool-16-thread-4] c.h.d.chat.service.TradeChatService      : RAG 기반 AI 응답 생성 실패: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

java.util.concurrent.ExecutionException: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.generateActualAIResponseWithRAG(TradeChatService.java:299) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:166) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T19:56:44.884+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T19:56:44.889+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T19:56:44.890+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T19:56:44.890+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T19:56:44.891+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T19:56:44.891+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T19:56:44.892+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T19:56:44.892+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T19:57:21.209+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T19:57:21.209+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T19:57:21.211+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T19:57:21.211+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T19:57:21.211+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T19:57:21.211+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T19:57:21.212+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T19:57:21.212+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T19:57:21.212+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T19:57:21.213+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T19:57:21.213+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T19:57:21.215+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T19:57:21.216+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:57:21.220+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:57:21.221+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-7] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T19:57:21.223+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T19:57:21.223+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T19:57:21.223+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T19:57:21.223+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T19:57:21.224+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T19:57:21.226+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:57:21.226+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T19:57:21.226+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T19:57:21.227+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T19:57:21.227+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:57:21.228+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T19:57:21.228+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T19:57:21.228+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T19:57:21.228+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=f66321a1-34f7-466e-ac76-7a4fa4f94eb8, reason=TOKEN_REFRESH, userId=6
2025-07-01T19:57:21.228+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T19:57:21.230+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=f66321a1-34f7-466e-ac76-7a4fa4f94eb8, reason=TOKEN_REFRESH, userId=6
2025-07-01T19:57:21.230+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T19:57:21.231+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T19:57:21.232+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T19:57:21.233+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T19:57:21.233+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T19:57:21.233+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T19:57:21.234+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T19:57:21.236+09:00  INFO 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T19:57:21.237+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:57:21.237+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T19:57:21.237+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T19:57:21.237+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T19:57:21.238+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T19:57:21.239+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T19:57:21.246+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T19:57:21.248+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T19:57:21.250+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T19:57:21.252+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T19:57:21.252+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T19:57:21.253+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T19:57:21.253+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T19:57:21.253+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T19:57:21.254+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T19:57:21.254+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T19:57:21.254+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T19:57:21.254+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T19:57:21.254+09:00 DEBUG 17808 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T20:00:32.769+09:00  INFO 17808 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-01T20:00:32.771+09:00  INFO 17808 --- [hscode-radar] [Thread-16] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:00:32.771+09:00  INFO 17808 --- [hscode-radar] [Thread-16] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:00:32.791+09:00  INFO 17808 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:00:32.903+09:00  INFO 17808 --- [hscode-radar] [Thread-16] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:00:32.903+09:00  INFO 17808 --- [hscode-radar] [Thread-16] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:00:32.903+09:00  INFO 17808 --- [hscode-radar] [Thread-16] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:00:32.904+09:00  INFO 17808 --- [hscode-radar] [Thread-16] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:00:32.904+09:00  INFO 17808 --- [hscode-radar] [Thread-16] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:00:32.904+09:00  INFO 17808 --- [hscode-radar] [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-07-01T20:00:32.910+09:00  INFO 17808 --- [hscode-radar] [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-07-01T20:00:32.983+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 17808 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:00:32.983+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:00:32.983+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:00:33.201+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:00:33.201+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:00:33.220+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 10 JPA repository interfaces.
2025-07-01T20:00:33.221+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:00:33.221+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:00:33.224+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-01T20:00:33.298+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:00:33.298+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:00:33.347+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:33.347+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:33.347+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:33.347+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:33.348+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:33.348+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:33.348+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:33.348+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:33.348+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:33.349+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:33.349+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
2025-07-01T20:00:33.430+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:00:33.501+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:00:33.502+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:00:33.502+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:00:33.564+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:00:33.564+09:00  INFO 17808 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 579 ms
2025-07-01T20:00:33.581+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:00:33.588+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:00:33.660+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:00:33.662+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:00:33.667+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:00:33.668+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-07-01T20:00:33.702+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@40073e8c
2025-07-01T20:00:33.702+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-07-01T20:00:33.704+09:00  WARN 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:00:33.705+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:00:33.804+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:00:33.804+09:00  INFO 17808 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:00:33.955+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:00:33.957+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: hscode_vectors, 차원: 1024
2025-07-01T20:00:34.058+09:00  WARN 17808 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:00:34.073+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:00:34.083+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:00:34.106+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:00:34.107+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:00:34.107+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:00:34.107+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:00:34.107+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:00:34.107+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:00:34.108+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:00:34.108+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@7b89453f
2025-07-01T20:00:34.113+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:00:34.118+09:00  INFO 17808 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:00:34.127+09:00  WARN 17808 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:00:34.159+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:00:34.162+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:00:34.197+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:00:34.201+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:00:34.221+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:00:34.222+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:00:34.222+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:00:34.226+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.258 seconds (process running for 768.33)
2025-07-01T20:00:34.226+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T20:00:41.878+09:00  INFO 17808 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-01T20:00:41.879+09:00  INFO 17808 --- [hscode-radar] [Thread-20] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:00:41.879+09:00  INFO 17808 --- [hscode-radar] [Thread-20] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:00:41.898+09:00  INFO 17808 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:00:42.005+09:00  INFO 17808 --- [hscode-radar] [Thread-20] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:00:42.006+09:00  INFO 17808 --- [hscode-radar] [Thread-20] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:00:42.006+09:00  INFO 17808 --- [hscode-radar] [Thread-20] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:00:42.006+09:00  INFO 17808 --- [hscode-radar] [Thread-20] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:00:42.006+09:00  INFO 17808 --- [hscode-radar] [Thread-20] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:00:42.007+09:00  INFO 17808 --- [hscode-radar] [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-07-01T20:00:42.011+09:00  INFO 17808 --- [hscode-radar] [Thread-20] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-07-01T20:00:42.091+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 17808 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:00:42.092+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:00:42.092+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:00:42.314+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:00:42.315+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:00:42.334+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 10 JPA repository interfaces.
2025-07-01T20:00:42.334+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:00:42.335+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:00:42.338+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-07-01T20:00:42.419+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:00:42.419+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:00:42.471+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:42.471+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:42.472+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:42.472+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:42.472+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:42.472+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:42.472+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:42.472+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:42.473+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:42.473+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:00:42.473+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 0 Redis repository interfaces.
2025-07-01T20:00:42.551+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:00:42.627+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:00:42.628+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:00:42.628+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:00:42.702+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:00:42.702+09:00  INFO 17808 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 609 ms
2025-07-01T20:00:42.720+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:00:42.723+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:00:42.784+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:00:42.786+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:00:42.791+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:00:42.792+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-07-01T20:00:42.819+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@6c529440
2025-07-01T20:00:42.819+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-07-01T20:00:42.821+09:00  WARN 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:00:42.822+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:00:42.931+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:00:42.933+09:00  INFO 17808 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:00:43.060+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:00:43.061+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:00:43.064+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:00:43.066+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:00:43.119+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:00:43.121+09:00  INFO 17808 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: hscode_vectors, 차원: 1024
2025-07-01T20:00:43.232+09:00  WARN 17808 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:00:43.245+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:00:43.254+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:00:43.274+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:00:43.275+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:00:43.275+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:00:43.275+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:00:43.275+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:00:43.275+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:00:43.275+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:00:43.276+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@54de288c
2025-07-01T20:00:43.283+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:00:43.289+09:00  INFO 17808 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:00:43.299+09:00  WARN 17808 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:00:43.331+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:00:43.334+09:00 DEBUG 17808 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:00:43.368+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:00:43.372+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:00:43.392+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:00:43.392+09:00  INFO 17808 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:00:43.393+09:00  INFO 17808 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:00:43.396+09:00  INFO 17808 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.322 seconds (process running for 777.5)
2025-07-01T20:00:43.396+09:00  INFO 17808 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T20:05:24.985+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 21656 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:05:24.986+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:05:24.987+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:05:25.023+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T20:05:25.023+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T20:05:25.023+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T20:05:25.787+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:05:25.787+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:05:25.891+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 96 ms. Found 10 JPA repository interfaces.
2025-07-01T20:05:25.895+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:05:25.895+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:05:25.906+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-07-01T20:05:26.710+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:05:26.710+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:05:26.793+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:05:26.793+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:05:26.793+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:05:26.794+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:05:26.795+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:05:26.795+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:05:26.795+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:05:26.796+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:05:26.796+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:05:26.797+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:05:26.797+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 86 ms. Found 0 Redis repository interfaces.
2025-07-01T20:05:26.983+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:05:28.028+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:05:28.049+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:05:28.049+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:05:28.149+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:05:28.149+09:00  INFO 21656 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3125 ms
2025-07-01T20:05:28.313+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:05:28.353+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:05:28.507+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:05:28.542+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T20:05:28.566+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:05:28.747+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:05:28.769+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T20:05:29.146+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@133f78c4
2025-07-01T20:05:29.147+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T20:05:29.169+09:00  WARN 21656 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:05:29.182+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:05:30.090+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:05:30.092+09:00  INFO 21656 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:05:30.766+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T20:05:31.453+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:05:31.455+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:05:31.465+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:05:31.467+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:05:31.751+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:05:31.756+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: hscode_vectors, 차원: 1024
2025-07-01T20:05:32.504+09:00  WARN 21656 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:05:32.602+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:05:32.647+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:05:32.751+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:05:32.759+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:05:32.760+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:05:32.760+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:05:32.761+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:05:32.761+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:05:32.762+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:05:32.762+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@6e8cb25a
2025-07-01T20:05:32.788+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:05:32.825+09:00  INFO 21656 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:05:32.888+09:00  WARN 21656 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:05:33.022+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:05:33.056+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:05:33.247+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:05:33.292+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:05:33.408+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:05:33.410+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:05:33.410+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:05:33.429+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 8.784 seconds (process running for 9.633)
2025-07-01T20:05:33.615+09:00  INFO 21656 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01T20:05:33.616+09:00  INFO 21656 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-01T20:05:33.616+09:00 DEBUG 21656 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-01T20:05:33.616+09:00 DEBUG 21656 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-01T20:05:33.616+09:00 DEBUG 21656 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-01T20:05:33.617+09:00 DEBUG 21656 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3dba714c
2025-07-01T20:05:33.618+09:00 DEBUG 21656 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@56a2644
2025-07-01T20:05:33.618+09:00 DEBUG 21656 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01T20:05:33.618+09:00  INFO 21656 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-01T20:05:37.927+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:05:38.326+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:05:38.348+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:05:38.359+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:05:38.368+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:05:38.370+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:05:38.391+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:05:38.413+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:05:38.428+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:05:38.430+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:05:38.430+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:05:38.432+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:05:38.437+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:05:38.442+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:05:38.477+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:05:38.478+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:05:38.479+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:05:38.479+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:05:38.480+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:05:38.497+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:05:39.456+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T20:05:39.456+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T20:05:39.457+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:05:39.457+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T20:05:39.457+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:05:39.457+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T20:05:39.459+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:05:39.460+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T20:05:39.461+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T20:05:39.462+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T20:05:39.463+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T20:05:39.467+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T20:05:39.471+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:05:39.473+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:05:39.477+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:05:39.477+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:05:39.478+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:05:39.478+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:05:39.482+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:05:39.482+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:05:39.484+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:05:39.485+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:05:39.485+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:05:39.485+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:05:39.486+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:05:39.486+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:05:39.489+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:05:39.493+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T20:05:39.505+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:05:39.511+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T20:05:39.513+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=acc4c09b-2831-4d53-82c1-e970050067ba, reason=TOKEN_REFRESH, userId=6
2025-07-01T20:05:39.514+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=acc4c09b-2831-4d53-82c1-e970050067ba, reason=TOKEN_REFRESH, userId=6
2025-07-01T20:05:39.515+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T20:05:39.518+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T20:05:39.519+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T20:05:39.519+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T20:05:39.519+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T20:05:39.544+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T20:05:39.550+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T20:05:39.555+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:05:39.556+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T20:05:39.556+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T20:05:39.556+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T20:05:39.558+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T20:05:39.559+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T20:05:39.566+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:05:39.570+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:05:39.571+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:05:39.573+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:05:39.574+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T20:05:39.574+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T20:05:39.575+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T20:05:39.578+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:05:39.578+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T20:05:39.579+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T20:05:39.579+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T20:05:39.583+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T20:05:39.584+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T20:05:47.787+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:05:47.791+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:05:47.792+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:05:47.793+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:05:47.795+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T20:05:47.796+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T20:05:47.820+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=ㄴㅇㅁㄴㅇㄴ, sessionId=null, clientId=null, modelName=null, temperature=null, ma (truncated)...]
2025-07-01T20:05:47.844+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 - 사용자: user_3110, 메시지 길이: 6, 회원 여부: true, 세션: null
2025-07-01T20:05:47.851+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 - 응답 ID: trade-chat-v61-1751367947844-cd04434f, 사용자: 회원:user_3110, 회원: true
2025-07-01T20:05:48.321+09:00 ERROR 21656 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.chat.service.TradeChatService      : 무역 의도 분석 실패: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13598

java.lang.RuntimeException: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13598
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:340) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	at dev.langchain4j.rag.content.retriever.EmbeddingStoreContentRetriever.retrieve(EmbeddingStoreContentRetriever.java:237) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.rag.DefaultRetrievalAugmentor.process(DefaultRetrievalAugmentor.java:168) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.rag.DefaultRetrievalAugmentor.augment(DefaultRetrievalAugmentor.java:150) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.service.DefaultAiServices$1.invoke(DefaultAiServices.java:166) ~[langchain4j-1.1.0.jar:na]
	at jdk.proxy4/jdk.proxy4.$Proxy232.analyzeTradeIntent(Unknown Source) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.analyzeTradeIntent(TradeChatService.java:314) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$0(TradeChatService.java:67) ~[classes/:na]
	at reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:97) ~[reactor-core-3.7.7.jar:3.7.7]
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891) ~[reactor-core-3.7.7.jar:3.7.7]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler$AbstractEmitterSubscriber.connect(ReactiveTypeHandler.java:283) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler.handleValue(ReactiveTypeHandler.java:167) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitterReturnValueHandler.handleReturnValue(ResponseBodyEmitterReturnValueHandler.java:210) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at com.hscoderadar.config.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:147) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13598
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139) ~[postgresql-42.7.7.jar:42.7.7]
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:321) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	... 175 common frames omitted

2025-07-01T20:05:49.937+09:00  INFO 21656 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: ㄴㅇㅁㄴㅇㄴ
2025-07-01T20:05:49.937+09:00  INFO 21656 --- [hscode-radar] [pool-5-thread-3] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 - 사용자: user_3110, 세션: null
2025-07-01T20:05:50.152+09:00 ERROR 21656 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : ❌ HSCode 의미적 검색 실패: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13598

java.lang.RuntimeException: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13598
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:340) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	at com.hscoderadar.domain.chat.service.TradeRagService.searchHsCodesBySemantic(TradeRagService.java:78) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.searchHsCodesBySemantic(TradeChatService.java:329) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:163) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: org.postgresql.util.PSQLException: 오류: "embedding_id" 이름의 칼럼은 없습니다
  Hint: 아마 "hscode_vectors.embedding" 칼럼을 참조하는 것 같습니다.
  Position: 13598
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2734) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2421) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:518) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:435) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:196) ~[postgresql-42.7.7.jar:42.7.7]
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:139) ~[postgresql-42.7.7.jar:42.7.7]
	at dev.langchain4j.store.embedding.pgvector.PgVectorEmbeddingStore.search(PgVectorEmbeddingStore.java:321) ~[langchain4j-pgvector-1.1.0-beta7.jar:na]
	... 7 common frames omitted

2025-07-01T20:05:50.166+09:00  INFO 21656 --- [hscode-radar] [pool-5-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...5_], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "사용자 질문: ㄴㅇㅁㄴㅇㄴ\n\n관련 HSCode 정보 (voyage-3-large 1024차원 검색 결과):\n- HSCode: 일반, 품목: 무역 정보, 설명: 더 구체적인 정보를 제공해주시면 정확한 HSCode를 안내드릴 수 있습니다. (신뢰도: 0.50)\n\n위 RAG 검색 결과를 참고하여 정확하고 구체적인 답변을 제공해주세요."
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T20:05:50.543+09:00 ERROR 21656 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] c.h.d.chat.service.TradeChatService      : Claude 스트리밍 응답 오류: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T20:05:50.544+09:00 ERROR 21656 --- [hscode-radar] [pool-5-thread-1] c.h.d.chat.service.TradeChatService      : RAG 기반 AI 응답 생성 실패: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

java.util.concurrent.ExecutionException: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.generateActualAIResponseWithRAG(TradeChatService.java:299) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:166) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T20:05:50.546+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T20:05:50.558+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T20:05:50.558+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T20:05:50.558+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:05:50.561+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T20:05:50.561+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T20:05:50.561+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T20:05:50.562+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:07:47.821+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:07:47.826+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:07:47.828+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:07:47.830+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:07:47.831+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:07:47.832+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:07:47.832+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:07:47.844+09:00  INFO 21656 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:07:47.847+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:07:47.847+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:07:47.847+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:07:47.848+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:07:47.850+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:07:47.851+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:07:47.852+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:07:47.852+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:07:47.853+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:07:47.853+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:07:47.853+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:07:47.855+09:00 DEBUG 21656 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:08:16.255+09:00  INFO 21656 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-01T20:08:16.258+09:00  INFO 21656 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:08:16.258+09:00  INFO 21656 --- [hscode-radar] [Thread-4] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:08:16.278+09:00  INFO 21656 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:08:16.399+09:00  INFO 21656 --- [hscode-radar] [Thread-4] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:08:16.400+09:00  INFO 21656 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:08:16.400+09:00  INFO 21656 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:08:16.400+09:00  INFO 21656 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:08:16.406+09:00  INFO 21656 --- [hscode-radar] [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:08:16.407+09:00  INFO 21656 --- [hscode-radar] [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T20:08:16.413+09:00  INFO 21656 --- [hscode-radar] [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T20:08:16.494+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 21656 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:08:16.494+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:08:16.494+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:08:16.772+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:08:16.772+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:08:16.793+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 20 ms. Found 10 JPA repository interfaces.
2025-07-01T20:08:16.793+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:08:16.794+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:08:16.798+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-07-01T20:08:16.901+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:08:16.902+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:08:16.959+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:16.959+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:16.959+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:16.960+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:16.960+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:16.960+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:16.960+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:16.960+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:16.961+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:16.961+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:16.961+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 58 ms. Found 0 Redis repository interfaces.
2025-07-01T20:08:17.055+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:08:17.228+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:08:17.229+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:08:17.230+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:08:17.314+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:08:17.315+09:00  INFO 21656 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 819 ms
2025-07-01T20:08:17.335+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:08:17.339+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:08:17.403+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:08:17.406+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:08:17.414+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:08:17.415+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-01T20:08:17.451+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@116b27de
2025-07-01T20:08:17.451+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-01T20:08:17.453+09:00  WARN 21656 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:08:17.454+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:08:17.757+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:08:17.758+09:00  INFO 21656 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:08:17.900+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:08:17.902+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:08:17.903+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:08:17.904+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:08:17.999+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:08:18.001+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T20:08:18.155+09:00  WARN 21656 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:08:18.174+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:08:18.184+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:08:18.205+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:08:18.206+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:08:18.206+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:08:18.206+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:08:18.206+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:08:18.206+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:08:18.206+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:08:18.206+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@7ce10858
2025-07-01T20:08:18.214+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:08:18.221+09:00  INFO 21656 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:08:18.230+09:00  WARN 21656 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:08:18.267+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:08:18.270+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:08:18.311+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:08:18.317+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:08:18.341+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:08:18.341+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:08:18.341+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:08:18.362+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.893 seconds (process running for 174.566)
2025-07-01T20:08:18.364+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T20:08:40.442+09:00  INFO 21656 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-01T20:08:40.444+09:00  INFO 21656 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:08:40.444+09:00  INFO 21656 --- [hscode-radar] [Thread-8] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:08:40.464+09:00  INFO 21656 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:08:40.577+09:00  INFO 21656 --- [hscode-radar] [Thread-8] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:08:40.577+09:00  INFO 21656 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:08:40.577+09:00  INFO 21656 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:08:40.577+09:00  INFO 21656 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:08:40.578+09:00  INFO 21656 --- [hscode-radar] [Thread-8] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:08:40.579+09:00  INFO 21656 --- [hscode-radar] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-01T20:08:40.584+09:00  INFO 21656 --- [hscode-radar] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-01T20:08:40.655+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 21656 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:08:40.655+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:08:40.655+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:08:40.890+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:08:40.890+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:08:40.910+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 10 JPA repository interfaces.
2025-07-01T20:08:40.910+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:08:40.910+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:08:40.913+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-01T20:08:41.031+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:08:41.031+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:08:41.082+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:41.082+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:41.082+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:41.082+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:41.082+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:41.083+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:41.083+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:41.083+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:41.083+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:41.083+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:08:41.084+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 0 Redis repository interfaces.
2025-07-01T20:08:41.165+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:08:41.243+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:08:41.243+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:08:41.243+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:08:41.310+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:08:41.310+09:00  INFO 21656 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 654 ms
2025-07-01T20:08:41.333+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:08:41.338+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:08:41.400+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:08:41.402+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:08:41.407+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:08:41.408+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-01T20:08:41.436+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@75d20e93
2025-07-01T20:08:41.437+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-01T20:08:41.438+09:00  WARN 21656 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:08:41.439+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:08:41.574+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:08:41.575+09:00  INFO 21656 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:08:41.690+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:08:41.691+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:08:41.693+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:08:41.694+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:08:41.765+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:08:41.767+09:00  INFO 21656 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: hscode_vectors, 차원: 1024
2025-07-01T20:08:41.886+09:00  WARN 21656 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:08:41.906+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:08:41.916+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:08:41.935+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:08:41.936+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:08:41.936+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:08:41.936+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:08:41.936+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:08:41.937+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:08:41.937+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:08:41.937+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@fbf48ce
2025-07-01T20:08:41.945+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:08:41.955+09:00  INFO 21656 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:08:41.977+09:00  WARN 21656 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:08:42.018+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:08:42.021+09:00 DEBUG 21656 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:08:42.061+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:08:42.065+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:08:42.089+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:08:42.089+09:00  INFO 21656 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:08:42.090+09:00  INFO 21656 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:08:42.094+09:00  INFO 21656 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.455 seconds (process running for 198.298)
2025-07-01T20:08:42.095+09:00  INFO 21656 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T20:11:59.187+09:00  INFO 20588 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 20588 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:11:59.188+09:00 DEBUG 20588 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:11:59.189+09:00  INFO 20588 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:11:59.226+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T20:11:59.226+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T20:11:59.226+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T20:11:59.975+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:11:59.976+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:12:00.085+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 102 ms. Found 10 JPA repository interfaces.
2025-07-01T20:12:00.089+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:12:00.089+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:12:00.101+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-07-01T20:12:00.927+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:12:00.928+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:12:01.003+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:12:01.003+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:12:01.004+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:12:01.005+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:12:01.005+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:12:01.006+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:12:01.006+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:12:01.006+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:12:01.007+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:12:01.007+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:12:01.008+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 0 Redis repository interfaces.
2025-07-01T20:12:01.208+09:00 DEBUG 20588 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:12:02.265+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:12:02.284+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:12:02.284+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:12:02.385+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:12:02.385+09:00  INFO 20588 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3158 ms
2025-07-01T20:12:02.530+09:00 DEBUG 20588 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:12:02.595+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:12:02.756+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:12:02.790+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T20:12:02.815+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:12:03.001+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:12:03.024+09:00  INFO 20588 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T20:12:03.313+09:00  INFO 20588 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@57dd96f7
2025-07-01T20:12:03.315+09:00  INFO 20588 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T20:12:03.338+09:00  WARN 20588 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:12:03.350+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:12:04.254+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:12:04.256+09:00  INFO 20588 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:12:04.917+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T20:12:05.588+09:00  INFO 20588 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:12:05.592+09:00  INFO 20588 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:12:05.599+09:00  INFO 20588 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:12:05.601+09:00  INFO 20588 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:12:05.918+09:00  INFO 20588 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:12:05.924+09:00  INFO 20588 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T20:12:06.566+09:00  WARN 20588 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:12:06.642+09:00 DEBUG 20588 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:12:06.678+09:00 DEBUG 20588 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:12:06.774+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:12:06.781+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:12:06.782+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:12:06.783+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:12:06.783+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:12:06.783+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:12:06.784+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:12:06.784+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@4530cbd6
2025-07-01T20:12:06.805+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:12:06.829+09:00  INFO 20588 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:12:06.889+09:00  WARN 20588 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:12:06.984+09:00 DEBUG 20588 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:12:07.009+09:00 DEBUG 20588 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:12:07.143+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:12:07.180+09:00  INFO 20588 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:12:07.282+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:12:07.283+09:00  INFO 20588 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:12:07.284+09:00  INFO 20588 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:12:07.299+09:00  INFO 20588 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 8.473 seconds (process running for 9.32)
2025-07-01T20:12:07.759+09:00  INFO 20588 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01T20:12:07.760+09:00  INFO 20588 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-01T20:12:07.760+09:00 DEBUG 20588 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-01T20:12:07.760+09:00 DEBUG 20588 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-01T20:12:07.761+09:00 DEBUG 20588 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-01T20:12:07.761+09:00 DEBUG 20588 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@39b91bd8
2025-07-01T20:12:07.762+09:00 DEBUG 20588 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6cdf9060
2025-07-01T20:12:07.762+09:00 DEBUG 20588 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01T20:12:07.762+09:00  INFO 20588 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-01T20:12:42.222+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T20:12:42.223+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T20:12:42.233+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:12:42.233+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T20:12:42.235+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T20:12:42.235+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:12:42.246+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T20:12:42.247+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T20:12:42.250+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T20:12:42.251+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T20:12:42.311+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:12:42.365+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:12:42.388+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:12:42.391+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:12:42.391+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:12:42.393+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:12:42.400+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:12:42.406+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:12:42.444+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:12:42.445+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:12:42.446+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:12:42.446+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:12:42.448+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:12:42.475+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:12:42.685+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T20:12:42.697+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:12:42.714+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:12:42.722+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T20:12:42.733+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:12:42.739+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T20:12:42.740+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=7d8f20ae-83f1-48d1-a637-12057da20295, reason=TOKEN_REFRESH, userId=6
2025-07-01T20:12:42.742+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=7d8f20ae-83f1-48d1-a637-12057da20295, reason=TOKEN_REFRESH, userId=6
2025-07-01T20:12:42.743+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T20:12:42.746+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T20:12:42.747+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T20:12:42.747+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T20:12:42.748+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T20:12:42.773+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T20:12:42.780+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T20:12:42.785+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:12:42.785+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T20:12:42.786+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T20:12:42.786+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T20:12:42.789+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T20:12:42.791+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T20:12:42.800+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:12:42.832+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:12:42.835+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:12:42.837+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:12:42.839+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T20:12:42.839+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T20:12:42.840+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T20:12:42.845+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:12:42.845+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T20:12:42.845+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T20:12:42.845+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T20:12:42.850+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T20:12:42.851+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T20:13:10.843+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:13:10.846+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:13:10.848+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:13:10.851+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:13:10.852+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T20:13:10.852+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T20:13:10.883+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=안녕?, sessionId=null, clientId=null, modelName=null, temperature=null, maxTo (truncated)...]
2025-07-01T20:13:10.912+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 - 사용자: user_5057, 메시지 길이: 3, 회원 여부: true, 세션: null
2025-07-01T20:13:10.920+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 - 응답 ID: trade-chat-v61-1751368390912-0961e6dd, 사용자: 회원:user_5057, 회원: true
2025-07-01T20:13:11.431+09:00  INFO 20588 --- [hscode-radar] [http-nio-8081-exec-4] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...5_], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "안녕?"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "너는 무역 전문가. 사용자의 질문을 분석하여 다음 중 하나의 의도로 분류:\n\n1. HS_CODE_ANALYSIS: HS Code 분류, 관세율, 품목 분석 관련\n2. CARGO_TRACKING: 화물 추적, 통관 상태 조회 관련\n3. GENERAL_TRADE_INFO: 일반적인 무역 정보, 규제, 절차 관련\n4. NOT_TRADE_RELATED: 무역과 관련 없는 질문\n\n반드시 위 4가지 중 하나만 정확히 반환.\n"
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.2
}

2025-07-01T20:13:11.750+09:00 ERROR 20588 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.chat.service.TradeChatService      : 무역 의도 분석 실패: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:31) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.lambda$withRetryMappingExceptions$2(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils$RetryPolicy.withRetry(RetryUtils.java:211) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetry(RetryUtils.java:264) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:308) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.AnthropicChatModel.doChat(AnthropicChatModel.java:278) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.model.chat.ChatModel.chat(ChatModel.java:46) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.guardrail.SynchronousChatExecutor.execute(SynchronousChatExecutor.java:32) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.guardrail.AbstractChatExecutor.execute(AbstractChatExecutor.java:45) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.service.DefaultAiServices$1.invoke(DefaultAiServices.java:256) ~[langchain4j-1.1.0.jar:na]
	at jdk.proxy4/jdk.proxy4.$Proxy232.analyzeTradeIntent(Unknown Source) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.analyzeTradeIntent(TradeChatService.java:314) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$0(TradeChatService.java:67) ~[classes/:na]
	at reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:97) ~[reactor-core-3.7.7.jar:3.7.7]
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891) ~[reactor-core-3.7.7.jar:3.7.7]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler$AbstractEmitterSubscriber.connect(ReactiveTypeHandler.java:283) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler.handleValue(ReactiveTypeHandler.java:167) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitterReturnValueHandler.handleReturnValue(ResponseBodyEmitterReturnValueHandler.java:210) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at com.hscoderadar.config.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:147) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.execute(JdkHttpClient.java:53) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient.execute(LoggingHttpClient.java:39) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient.createMessage(DefaultAnthropicClient.java:100) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.model.anthropic.AnthropicChatModel.lambda$doChat$0(AnthropicChatModel.java:278) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:29) ~[langchain4j-core-1.1.0.jar:na]
	... 181 common frames omitted

2025-07-01T20:13:13.417+09:00  INFO 20588 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 안녕?
2025-07-01T20:13:13.418+09:00  INFO 20588 --- [hscode-radar] [pool-5-thread-3] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 - 사용자: user_5057, 세션: null
2025-07-01T20:13:13.644+09:00  INFO 20588 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : ✅ HSCode 의미적 검색 완료 - 결과 수: 0, 최대 유사도: 0.0
2025-07-01T20:13:13.647+09:00  INFO 20588 --- [hscode-radar] [pool-5-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...5_], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "안녕?"
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T20:13:13.909+09:00 ERROR 20588 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] c.h.d.chat.service.TradeChatService      : Claude 스트리밍 응답 오류: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T20:13:13.910+09:00 ERROR 20588 --- [hscode-radar] [pool-5-thread-1] c.h.d.chat.service.TradeChatService      : RAG 기반 AI 응답 생성 실패: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}

java.util.concurrent.ExecutionException: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.generateActualAIResponseWithRAG(TradeChatService.java:299) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:166) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.AuthenticationException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:59) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient$1.onError(DefaultAnthropicClient.java:336) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient$1.onError(LoggingHttpClient.java:75) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$0(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.sse.ServerSentEventListenerUtils.ignoringExceptions(ServerSentEventListenerUtils.java:14) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:73) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at java.base/java.util.concurrent.CompletableFuture$UniAccept.tryFire(CompletableFuture.java:718) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postFire(CompletableFuture.java:614) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:844) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1310) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1841) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1806) ~[na:na]
	at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"type":"error","error":{"type":"authentication_error","message":"invalid x-api-key"}}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.lambda$execute$2(JdkHttpClient.java:72) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 10 common frames omitted

2025-07-01T20:13:13.913+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T20:13:13.926+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T20:13:13.926+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T20:13:13.926+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:13:13.929+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T20:13:13.930+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T20:13:13.930+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T20:13:13.930+09:00 DEBUG 20588 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:15:36.409+09:00  INFO 20588 --- [hscode-radar] [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:15:36.410+09:00  INFO 20588 --- [hscode-radar] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:15:36.430+09:00  INFO 20588 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:15:36.559+09:00  INFO 20588 --- [hscode-radar] [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:15:36.559+09:00  INFO 20588 --- [hscode-radar] [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:15:36.559+09:00  INFO 20588 --- [hscode-radar] [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:15:36.560+09:00  INFO 20588 --- [hscode-radar] [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:15:36.563+09:00  INFO 20588 --- [hscode-radar] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:15:36.565+09:00  INFO 20588 --- [hscode-radar] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T20:15:36.571+09:00  INFO 20588 --- [hscode-radar] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T20:16:51.394+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 19208 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:16:51.396+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:16:51.397+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:16:51.434+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T20:16:51.434+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T20:16:51.435+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T20:16:52.195+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:16:52.195+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:16:52.308+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 105 ms. Found 10 JPA repository interfaces.
2025-07-01T20:16:52.313+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:16:52.313+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:16:52.324+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-07-01T20:16:53.137+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:16:53.138+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:16:53.208+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:16:53.208+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:16:53.210+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:16:53.210+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:16:53.210+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:16:53.211+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:16:53.211+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:16:53.212+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:16:53.212+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:16:53.212+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:16:53.213+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 0 Redis repository interfaces.
2025-07-01T20:16:53.419+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:16:54.447+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:16:54.458+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:16:54.458+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:16:54.553+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:16:54.553+09:00  INFO 19208 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3118 ms
2025-07-01T20:16:54.701+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:16:54.742+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:16:54.897+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:16:54.935+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T20:16:54.958+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:16:55.140+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:16:55.163+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T20:16:55.401+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@57dd96f7
2025-07-01T20:16:55.403+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T20:16:55.426+09:00  WARN 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:16:55.439+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:16:56.313+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:16:56.315+09:00  INFO 19208 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:16:56.909+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T20:16:57.548+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:16:57.550+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:16:57.555+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:16:57.556+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:16:57.853+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:16:57.863+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T20:16:58.514+09:00  WARN 19208 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:16:58.602+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:16:58.641+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:16:58.738+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:16:58.745+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:16:58.746+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:16:58.747+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:16:58.747+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:16:58.747+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:16:58.747+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:16:58.748+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@6864258d
2025-07-01T20:16:58.771+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:16:58.795+09:00  INFO 19208 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:16:58.853+09:00  WARN 19208 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:16:58.977+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:16:59.008+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:16:59.181+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:16:59.230+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:16:59.345+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:16:59.347+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:16:59.347+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:16:59.364+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 8.329 seconds (process running for 9.214)
2025-07-01T20:16:59.421+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01T20:16:59.421+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-01T20:16:59.421+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-01T20:16:59.422+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-01T20:16:59.422+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-01T20:16:59.423+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@17f5ffcd
2025-07-01T20:16:59.423+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@98224e0
2025-07-01T20:16:59.423+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01T20:16:59.423+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-01T20:16:59.459+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:16:59.909+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:16:59.951+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:16:59.970+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:16:59.984+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:16:59.986+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:17:00.017+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:17:00.041+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:17:00.068+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:17:00.073+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:17:00.073+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:17:00.076+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:17:00.083+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:17:00.090+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:17:00.133+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:17:00.135+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:17:00.135+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:17:00.136+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:17:00.138+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:17:00.163+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:17:42.963+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T20:17:42.963+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T20:17:42.963+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T20:17:42.964+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:17:42.964+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T20:17:42.965+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:17:42.967+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:17:42.968+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T20:17:42.969+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T20:17:42.969+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T20:17:42.970+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T20:17:42.976+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T20:17:42.980+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:17:42.988+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:17:42.993+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:17:42.993+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:17:42.993+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:17:42.994+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:17:42.994+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:17:42.997+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:17:42.998+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:17:42.999+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:17:42.999+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:17:42.999+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:17:43.000+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:17:43.001+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:17:43.004+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:17:43.006+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T20:17:43.021+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:17:43.027+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T20:17:43.029+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=18b97890-f007-4fa2-afcd-cc5a08bafc51, reason=TOKEN_REFRESH, userId=6
2025-07-01T20:17:43.030+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=18b97890-f007-4fa2-afcd-cc5a08bafc51, reason=TOKEN_REFRESH, userId=6
2025-07-01T20:17:43.032+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T20:17:43.035+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T20:17:43.036+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T20:17:43.036+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T20:17:43.036+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T20:17:43.063+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T20:17:43.069+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T20:17:43.075+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:17:43.075+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T20:17:43.075+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T20:17:43.075+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T20:17:43.078+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T20:17:43.080+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T20:17:43.086+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:17:43.090+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:17:43.092+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:17:43.094+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:17:43.095+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T20:17:43.096+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T20:17:43.096+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T20:17:43.099+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:17:43.100+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T20:17:43.100+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T20:17:43.101+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T20:17:43.104+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T20:17:43.105+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T20:19:20.823+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:19:20.827+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:19:20.830+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:19:20.831+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:19:20.832+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:19:20.832+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:19:20.833+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:19:20.842+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-7] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:19:20.843+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:19:20.843+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:19:20.844+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:19:20.844+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:19:20.846+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:19:20.847+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:19:20.848+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:19:20.848+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:19:20.848+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:19:20.848+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:19:20.849+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:19:20.850+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:23:53.832+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:23:53.835+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:23:53.838+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:23:53.840+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:23:53.841+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T20:23:53.841+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T20:23:53.873+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=ㄹ호, sessionId=null, clientId=null, modelName=null, temperature=null, maxTok (truncated)...]
2025-07-01T20:23:53.904+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-9] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 - 사용자: user_5440, 메시지 길이: 2, 회원 여부: true, 세션: null
2025-07-01T20:23:53.917+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-9] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 - 응답 ID: trade-chat-v61-1751369033904-35be68be, 사용자: 회원:user_5440, 회원: true
2025-07-01T20:23:54.656+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-9] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "ㄹ호"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "너는 무역 전문가. 사용자의 질문을 분석하여 다음 중 하나의 의도로 분류:\n\n1. HS_CODE_ANALYSIS: HS Code 분류, 관세율, 품목 분석 관련\n2. CARGO_TRACKING: 화물 추적, 통관 상태 조회 관련\n3. GENERAL_TRADE_INFO: 일반적인 무역 정보, 규제, 절차 관련\n4. NOT_TRADE_RELATED: 무역과 관련 없는 질문\n\n반드시 위 4가지 중 하나만 정확히 반환.\n"
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.2
}

2025-07-01T20:23:56.378+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-9] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T11:23:55Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T11:23:55Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T11:23:54Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T11:23:55Z], [cf-cache-status: DYNAMIC], [cf-ray: 958588ad9b73d1d5-ICN], [content-length: 343], [content-type: application/json], [date: Tue, 01 Jul 2025 11:23:55 GMT], [request-id: req_011CQgDNTB3sxurhjfnoKMgL], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: {"id":"msg_017mdR9eDr67dGr4MD4sQDUf","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"NOT_TRADE_RELATED"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":195,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":10,"service_tier":"standard"}}

2025-07-01T20:23:58.018+09:00  INFO 19208 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: ㄹ호
2025-07-01T20:23:58.019+09:00  INFO 19208 --- [hscode-radar] [pool-5-thread-3] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 - 사용자: user_5440, 세션: null
2025-07-01T20:23:58.247+09:00  INFO 19208 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : ✅ HSCode 의미적 검색 완료 - 결과 수: 0, 최대 유사도: 0.0
2025-07-01T20:23:58.250+09:00  INFO 19208 --- [hscode-radar] [pool-5-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "ㄹ호"
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T20:23:59.883+09:00  INFO 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T11:23:57Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T11:23:57Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T11:23:57Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T11:23:57Z], [cache-control: no-cache], [cf-cache-status: DYNAMIC], [cf-ray: 958588c3bdbbd1e3-ICN], [content-type: text/event-stream; charset=utf-8], [date: Tue, 01 Jul 2025 11:23:58 GMT], [request-id: req_011CQgDNiQ6Dto3QCBP3dKbF], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: null

2025-07-01T20:23:59.884+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_start", data = "{"type":"message_start","message":{"id":"msg_01XF1Z7aUHNYNiGwThNNXSTL","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":13,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":2,"service_tier":"standard"}}            }" }
2025-07-01T20:23:59.887+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_start", data = "{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}        }" }
2025-07-01T20:23:59.887+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "ping", data = "{"type": "ping"}" }
2025-07-01T20:23:59.888+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"안"}         }" }
2025-07-01T20:24:00.081+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"녕하세"}              }" }
2025-07-01T20:24:00.142+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"요! 무엇을 "}           }" }
2025-07-01T20:24:00.148+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"도와드릴까요?"}             }" }
2025-07-01T20:24:00.260+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" \n\n\"ㄹ"}           }" }
2025-07-01T20:24:00.446+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"호\"라고 입력"}      }" }
2025-07-01T20:24:00.590+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"하신 것 같은"}}" }
2025-07-01T20:24:00.705+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"데, 혹시 다"}         }" }
2025-07-01T20:24:00.786+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"른 내용을 말"}         }" }
2025-07-01T20:24:00.934+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"씀하고 싶으"}               }" }
2025-07-01T20:24:01.085+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"셨나요? "}           }" }
2025-07-01T20:24:01.212+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"궁금한 것이 있으"}        }" }
2025-07-01T20:24:01.353+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"시면 언제든 말"}          }" }
2025-07-01T20:24:01.532+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"씀해 주세요."}     }" }
2025-07-01T20:24:01.540+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_stop", data = "{"type":"content_block_stop","index":0            }" }
2025-07-01T20:24:01.560+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_delta", data = "{"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"output_tokens":102}  }" }
2025-07-01T20:24:01.569+09:00 DEBUG 19208 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_stop", data = "{"type":"message_stop"        }" }
2025-07-01T20:24:01.571+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T20:24:01.591+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T20:24:01.591+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T20:24:01.591+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:24:01.593+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T20:24:01.594+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T20:24:01.594+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T20:24:01.595+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:24:02.590+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:24:02.594+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:24:02.596+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:24:02.598+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:24:02.599+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:24:02.600+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:24:02.600+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:24:02.610+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-10] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:24:02.612+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:24:02.612+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:24:02.612+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:24:02.612+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:24:02.614+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:24:02.615+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:24:02.615+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:24:02.615+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:24:02.616+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:24:02.616+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:24:02.616+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:24:02.618+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:24:39.610+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:24:39.613+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:24:39.615+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:24:39.618+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:24:39.618+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:24:39.619+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:24:39.620+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:24:39.626+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:24:39.628+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:24:39.629+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:24:39.629+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:24:39.629+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:24:39.631+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:24:39.632+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:24:39.632+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:24:39.632+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:24:39.632+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:24:39.632+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:24:39.633+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:24:39.635+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:26:16.297+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:26:16.300+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:26:16.302+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:26:16.304+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:26:16.305+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:26:16.305+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:26:16.307+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:26:16.313+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:26:16.315+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:26:16.316+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:26:16.316+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:26:16.316+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:26:16.317+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:26:16.318+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:26:16.319+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:26:16.319+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:26:16.319+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:26:16.320+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:26:16.320+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:26:16.321+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:32:16.911+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:32:16.914+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:32:16.916+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:32:16.917+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:32:16.918+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:32:16.918+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:32:16.919+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:32:16.925+09:00  INFO 19208 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:32:16.927+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:32:16.927+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:32:16.927+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:32:16.927+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:32:16.929+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:32:16.930+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:32:16.931+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:32:16.931+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:32:16.931+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:32:16.931+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:32:16.932+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:32:16.933+09:00 DEBUG 19208 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:51:40.581+09:00  INFO 19208 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (3 additions, 0 deletions, 0 modifications)
2025-07-01T20:51:40.584+09:00  INFO 19208 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:51:40.585+09:00  INFO 19208 --- [hscode-radar] [Thread-4] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:51:40.608+09:00  INFO 19208 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:51:40.738+09:00  INFO 19208 --- [hscode-radar] [Thread-4] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:51:40.738+09:00  INFO 19208 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:51:40.739+09:00  INFO 19208 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:51:40.739+09:00  INFO 19208 --- [hscode-radar] [Thread-4] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:51:40.745+09:00  INFO 19208 --- [hscode-radar] [Thread-4] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:51:40.747+09:00  INFO 19208 --- [hscode-radar] [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T20:51:40.753+09:00  INFO 19208 --- [hscode-radar] [Thread-4] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T20:51:40.848+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 19208 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:51:40.848+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:51:40.848+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:51:41.168+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:51:41.168+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:51:41.194+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 10 JPA repository interfaces.
2025-07-01T20:51:41.194+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:51:41.195+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:51:41.199+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-07-01T20:51:41.320+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:51:41.321+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:51:41.374+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:51:41.374+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:51:41.375+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:51:41.375+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:51:41.375+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:51:41.376+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:51:41.376+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:51:41.376+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:51:41.377+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:51:41.377+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:51:41.377+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 0 Redis repository interfaces.
2025-07-01T20:51:41.483+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:51:41.586+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:51:41.586+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:51:41.587+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:51:41.655+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:51:41.655+09:00  INFO 19208 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 805 ms
2025-07-01T20:51:41.678+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:51:41.683+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:51:41.752+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:51:41.755+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:51:41.763+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:51:41.764+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-01T20:51:41.828+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@1e38e988
2025-07-01T20:51:41.828+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-01T20:51:41.830+09:00  WARN 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:51:41.832+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:51:42.023+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:51:42.023+09:00  INFO 19208 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:51:42.159+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:51:42.160+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:51:42.161+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:51:42.162+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:51:42.247+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:51:42.250+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T20:51:42.400+09:00  WARN 19208 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:51:42.425+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:51:42.437+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:51:42.464+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:51:42.465+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:51:42.465+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:51:42.465+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:51:42.465+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:51:42.466+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:51:42.466+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:51:42.466+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@40bef1d7
2025-07-01T20:51:42.474+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:51:42.480+09:00  INFO 19208 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:51:42.490+09:00  WARN 19208 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:51:42.528+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:51:42.531+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:51:42.583+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:51:42.588+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:51:42.616+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:51:42.616+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:51:42.616+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:51:42.622+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.8 seconds (process running for 2092.471)
2025-07-01T20:51:42.623+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T20:53:57.807+09:00  INFO 19208 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-01T20:53:57.809+09:00  INFO 19208 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:53:57.809+09:00  INFO 19208 --- [hscode-radar] [Thread-8] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:53:57.835+09:00  INFO 19208 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:53:57.951+09:00  INFO 19208 --- [hscode-radar] [Thread-8] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:53:57.952+09:00  INFO 19208 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:53:57.952+09:00  INFO 19208 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:53:57.952+09:00  INFO 19208 --- [hscode-radar] [Thread-8] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:53:57.954+09:00  INFO 19208 --- [hscode-radar] [Thread-8] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:53:57.955+09:00  INFO 19208 --- [hscode-radar] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-01T20:53:57.960+09:00  INFO 19208 --- [hscode-radar] [Thread-8] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-01T20:53:58.045+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 19208 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:53:58.046+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:53:58.046+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:53:58.360+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:53:58.360+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:53:58.385+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 24 ms. Found 10 JPA repository interfaces.
2025-07-01T20:53:58.386+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:53:58.386+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:53:58.389+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-01T20:53:58.543+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:53:58.543+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:53:58.620+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:53:58.620+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:53:58.621+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:53:58.621+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:53:58.621+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:53:58.621+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:53:58.622+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:53:58.622+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:53:58.622+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:53:58.622+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:53:58.623+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 0 Redis repository interfaces.
2025-07-01T20:53:58.743+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:53:58.846+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:53:58.846+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:53:58.846+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:53:58.928+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:53:58.928+09:00  INFO 19208 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 880 ms
2025-07-01T20:53:58.949+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:53:58.954+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:53:59.025+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:53:59.027+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:53:59.033+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:53:59.034+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-01T20:53:59.063+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@4a3d7b22
2025-07-01T20:53:59.064+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-01T20:53:59.065+09:00  WARN 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:53:59.067+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:53:59.226+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:53:59.226+09:00  INFO 19208 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:53:59.361+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:53:59.362+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:53:59.362+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:53:59.363+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:53:59.442+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:53:59.444+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T20:53:59.592+09:00  WARN 19208 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:53:59.614+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:53:59.626+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:53:59.650+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:53:59.651+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:53:59.651+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:53:59.652+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:53:59.652+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:53:59.652+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:53:59.652+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:53:59.652+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@1d001b5f
2025-07-01T20:53:59.660+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:53:59.668+09:00  INFO 19208 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:53:59.679+09:00  WARN 19208 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:53:59.717+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:53:59.721+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:53:59.767+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:53:59.771+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:53:59.794+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:53:59.795+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:53:59.795+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:53:59.800+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.775 seconds (process running for 2229.649)
2025-07-01T20:53:59.801+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T20:54:01.244+09:00  INFO 19208 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (3 additions, 0 deletions, 0 modifications)
2025-07-01T20:54:01.246+09:00  INFO 19208 --- [hscode-radar] [Thread-12] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:54:01.246+09:00  INFO 19208 --- [hscode-radar] [Thread-12] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:54:01.269+09:00  INFO 19208 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:54:01.382+09:00  INFO 19208 --- [hscode-radar] [Thread-12] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:54:01.382+09:00  INFO 19208 --- [hscode-radar] [Thread-12] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:54:01.382+09:00  INFO 19208 --- [hscode-radar] [Thread-12] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:54:01.382+09:00  INFO 19208 --- [hscode-radar] [Thread-12] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:54:01.384+09:00  INFO 19208 --- [hscode-radar] [Thread-12] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:54:01.384+09:00  INFO 19208 --- [hscode-radar] [Thread-12] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-01T20:54:01.389+09:00  INFO 19208 --- [hscode-radar] [Thread-12] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-01T20:54:01.469+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 19208 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:54:01.469+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:54:01.469+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:54:01.749+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:01.749+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:54:01.771+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 21 ms. Found 10 JPA repository interfaces.
2025-07-01T20:54:01.771+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:01.772+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:54:01.775+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-01T20:54:01.863+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:01.863+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:54:01.916+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:01.916+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:01.916+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:01.917+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:01.917+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:01.917+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:01.917+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:01.917+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:01.918+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:01.918+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:01.918+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 0 Redis repository interfaces.
2025-07-01T20:54:02.011+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:54:02.083+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:54:02.084+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:54:02.084+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:54:02.150+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:54:02.150+09:00  INFO 19208 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 679 ms
2025-07-01T20:54:02.166+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:54:02.170+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:54:02.228+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:54:02.230+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:54:02.235+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:54:02.236+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-07-01T20:54:02.263+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@1f7a566d
2025-07-01T20:54:02.263+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-07-01T20:54:02.264+09:00  WARN 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:54:02.265+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:54:02.401+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:54:02.402+09:00  INFO 19208 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:54:02.511+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:54:02.512+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:54:02.513+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:54:02.514+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:54:02.582+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:54:02.584+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T20:54:02.680+09:00  WARN 19208 --- [hscode-radar] [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sseNotificationService' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\sse\service\SseNotificationService.class]: Failed to instantiate [com.hscoderadar.domain.sse.service.SseNotificationService]: Constructor threw exception
2025-07-01T20:54:02.794+09:00  INFO 19208 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:54:02.794+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-07-01T20:54:02.809+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-07-01T20:54:02.809+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-01T20:54:02.814+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-01T20:54:02.827+09:00 ERROR 19208 --- [hscode-radar] [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sseNotificationService' defined in file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\sse\service\SseNotificationService.class]: Failed to instantiate [com.hscoderadar.domain.sse.service.SseNotificationService]: Constructor threw exception
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1357) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1242) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.8.jar:6.2.8]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361) ~[spring-boot-3.5.3.jar:3.5.3]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350) ~[spring-boot-3.5.3.jar:3.5.3]
	at com.hscoderadar.HsCodeRadarApplication.main(HsCodeRadarApplication.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.5.3.jar:3.5.3]
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hscoderadar.domain.sse.service.SseNotificationService]: Constructor threw exception
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:223) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:122) ~[spring-beans-6.2.8.jar:6.2.8]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1351) ~[spring-beans-6.2.8.jar:6.2.8]
	... 22 common frames omitted
Caused by: java.lang.Error: Unresolved compilation problem: 

	at com.hscoderadar.domain.sse.service.SseNotificationService.<init>(SseNotificationService.java:20) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486) ~[na:na]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:197) ~[spring-beans-6.2.8.jar:6.2.8]
	... 24 common frames omitted

2025-07-01T20:54:10.630+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 19208 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:54:10.630+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:54:10.630+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:54:10.891+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:10.891+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:54:10.910+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 10 JPA repository interfaces.
2025-07-01T20:54:10.910+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:10.911+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:54:10.913+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-01T20:54:11.007+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:11.007+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:54:11.071+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:11.072+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:11.072+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:11.072+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:11.072+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:11.073+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:11.073+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:11.073+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:11.073+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:11.073+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:11.074+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 0 Redis repository interfaces.
2025-07-01T20:54:11.168+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:54:11.247+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:54:11.247+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:54:11.248+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:54:11.318+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/api]  : Initializing Spring embedded WebApplicationContext
2025-07-01T20:54:11.318+09:00  INFO 19208 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 687 ms
2025-07-01T20:54:11.337+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:54:11.341+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:54:11.410+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:54:11.415+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:54:11.422+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:54:11.422+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-07-01T20:54:11.456+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@3860cb2c
2025-07-01T20:54:11.457+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-07-01T20:54:11.459+09:00  WARN 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:54:11.460+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:54:11.586+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:54:11.587+09:00  INFO 19208 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:54:11.697+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:54:11.697+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:54:11.698+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:54:11.699+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:54:11.771+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:54:11.774+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T20:54:11.908+09:00  WARN 19208 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:54:11.928+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:54:11.937+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:54:11.958+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:54:11.960+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:54:11.960+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:54:11.960+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:54:11.960+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:54:11.960+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:54:11.960+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:54:11.961+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@272215eb
2025-07-01T20:54:11.968+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:54:11.974+09:00  INFO 19208 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:54:11.987+09:00  WARN 19208 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:54:12.023+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:54:12.026+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:54:12.069+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:54:12.073+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:54:12.099+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:54:12.100+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:54:12.100+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:54:12.105+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.492 seconds (process running for 2241.955)
2025-07-01T20:54:12.106+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T20:54:33.252+09:00  INFO 19208 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2025-07-01T20:54:33.253+09:00  INFO 19208 --- [hscode-radar] [Thread-16] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:54:33.253+09:00  INFO 19208 --- [hscode-radar] [Thread-16] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:54:33.280+09:00  INFO 19208 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:54:33.395+09:00  INFO 19208 --- [hscode-radar] [Thread-16] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:54:33.395+09:00  INFO 19208 --- [hscode-radar] [Thread-16] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:54:33.396+09:00  INFO 19208 --- [hscode-radar] [Thread-16] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:54:33.396+09:00  INFO 19208 --- [hscode-radar] [Thread-16] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:54:33.397+09:00  INFO 19208 --- [hscode-radar] [Thread-16] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:54:33.397+09:00  INFO 19208 --- [hscode-radar] [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-07-01T20:54:33.401+09:00  INFO 19208 --- [hscode-radar] [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-07-01T20:54:33.494+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 19208 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:54:33.494+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:54:33.495+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:54:33.748+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:33.748+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:54:33.772+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 10 JPA repository interfaces.
2025-07-01T20:54:33.773+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:33.773+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:54:33.778+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-07-01T20:54:33.873+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:33.873+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:54:33.938+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:33.938+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:33.938+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:33.939+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:33.939+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:33.939+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:33.939+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:33.939+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:33.940+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:33.940+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:33.940+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 0 Redis repository interfaces.
2025-07-01T20:54:34.058+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:54:34.158+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:54:34.159+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:54:34.159+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:54:34.234+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/api]  : Initializing Spring embedded WebApplicationContext
2025-07-01T20:54:34.235+09:00  INFO 19208 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 739 ms
2025-07-01T20:54:34.261+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:54:34.265+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:54:34.352+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:54:34.354+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:54:34.360+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:54:34.361+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-07-01T20:54:34.397+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@38f64f6c
2025-07-01T20:54:34.397+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-07-01T20:54:34.398+09:00  WARN 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:54:34.399+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:54:34.527+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:54:34.528+09:00  INFO 19208 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:54:34.650+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:54:34.651+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:54:34.652+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:54:34.653+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:54:34.715+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:54:34.717+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T20:54:34.839+09:00  WARN 19208 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:54:34.859+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 46 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:54:34.869+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:54:34.893+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:54:34.894+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:54:34.894+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:54:34.895+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:54:34.895+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:54:34.895+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:54:34.895+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:54:34.895+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@1c2ff063
2025-07-01T20:54:34.903+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:54:34.908+09:00  INFO 19208 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:54:34.918+09:00  WARN 19208 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:54:34.951+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:54:34.955+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:54:35.006+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:54:35.011+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:54:35.048+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:54:35.048+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:54:35.048+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:54:35.052+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.578 seconds (process running for 2264.901)
2025-07-01T20:54:35.053+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T20:54:36.493+09:00  INFO 19208 --- [hscode-radar] [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (2 additions, 0 deletions, 0 modifications)
2025-07-01T20:54:36.494+09:00  INFO 19208 --- [hscode-radar] [Thread-23] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:54:36.494+09:00  INFO 19208 --- [hscode-radar] [Thread-23] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:54:36.513+09:00  INFO 19208 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:54:36.627+09:00  INFO 19208 --- [hscode-radar] [Thread-23] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:54:36.628+09:00  INFO 19208 --- [hscode-radar] [Thread-23] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:54:36.628+09:00  INFO 19208 --- [hscode-radar] [Thread-23] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:54:36.628+09:00  INFO 19208 --- [hscode-radar] [Thread-23] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:54:36.629+09:00  INFO 19208 --- [hscode-radar] [Thread-23] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:54:36.630+09:00  INFO 19208 --- [hscode-radar] [Thread-23] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-07-01T20:54:36.634+09:00  INFO 19208 --- [hscode-radar] [Thread-23] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-07-01T20:54:36.713+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 19208 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:54:36.714+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:54:36.714+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:54:36.953+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:36.954+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:54:36.976+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 10 JPA repository interfaces.
2025-07-01T20:54:36.977+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:36.977+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:54:36.981+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 Redis repository interfaces.
2025-07-01T20:54:37.074+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:54:37.074+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:54:37.143+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:37.143+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:37.143+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:37.143+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:37.144+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:37.144+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:37.144+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:37.144+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:37.144+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:37.145+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:54:37.145+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 69 ms. Found 0 Redis repository interfaces.
2025-07-01T20:54:37.241+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:54:37.322+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:54:37.323+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:54:37.323+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:54:37.402+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/api]  : Initializing Spring embedded WebApplicationContext
2025-07-01T20:54:37.402+09:00  INFO 19208 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 687 ms
2025-07-01T20:54:37.420+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:54:37.424+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:54:37.481+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:54:37.483+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:54:37.488+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:54:37.489+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-07-01T20:54:37.515+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@6077ff19
2025-07-01T20:54:37.515+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-07-01T20:54:37.517+09:00  WARN 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:54:37.518+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:54:37.639+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:54:37.640+09:00  INFO 19208 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:54:37.771+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:54:37.771+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:54:37.772+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:54:37.774+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:54:37.850+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:54:37.852+09:00  INFO 19208 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T20:54:37.981+09:00  WARN 19208 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:54:38.000+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:54:38.009+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:54:38.028+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:54:38.030+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:54:38.030+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:54:38.030+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:54:38.030+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:54:38.030+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:54:38.030+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:54:38.031+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@2f9a1a81
2025-07-01T20:54:38.036+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:54:38.042+09:00  INFO 19208 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:54:38.052+09:00  WARN 19208 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:54:38.089+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:54:38.092+09:00 DEBUG 19208 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:54:38.132+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:54:38.138+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:54:38.158+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:54:38.159+09:00  INFO 19208 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:54:38.159+09:00  INFO 19208 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:54:38.163+09:00  INFO 19208 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 1.466 seconds (process running for 2268.013)
2025-07-01T20:54:38.164+09:00  INFO 19208 --- [hscode-radar] [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-01T20:55:54.801+09:00  INFO 24356 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 24356 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T20:55:54.802+09:00 DEBUG 24356 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T20:55:54.803+09:00  INFO 24356 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T20:55:54.835+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T20:55:54.835+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T20:55:54.835+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T20:55:55.621+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:55:55.621+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T20:55:55.729+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 10 JPA repository interfaces.
2025-07-01T20:55:55.733+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:55:55.733+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:55:55.744+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2025-07-01T20:55:56.488+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T20:55:56.488+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T20:55:56.560+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:55:56.561+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:55:56.562+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:55:56.562+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:55:56.563+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:55:56.563+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:55:56.563+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:55:56.564+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:55:56.564+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:55:56.565+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T20:55:56.565+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 0 Redis repository interfaces.
2025-07-01T20:55:56.757+09:00 DEBUG 24356 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T20:55:57.722+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T20:55:57.733+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T20:55:57.733+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T20:55:57.823+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T20:55:57.823+09:00  INFO 24356 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2987 ms
2025-07-01T20:55:57.975+09:00 DEBUG 24356 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T20:55:58.032+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T20:55:58.189+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T20:55:58.228+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T20:55:58.250+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T20:55:58.429+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T20:55:58.450+09:00  INFO 24356 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T20:55:58.702+09:00  INFO 24356 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5612b911
2025-07-01T20:55:58.704+09:00  INFO 24356 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T20:55:58.725+09:00  WARN 24356 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T20:55:58.738+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T20:55:59.664+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T20:55:59.666+09:00  INFO 24356 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:56:00.278+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T20:56:00.990+09:00  INFO 24356 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T20:56:00.991+09:00  INFO 24356 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T20:56:01.000+09:00  INFO 24356 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T20:56:01.002+09:00  INFO 24356 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T20:56:01.317+09:00  INFO 24356 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T20:56:01.323+09:00  INFO 24356 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T20:56:01.952+09:00  WARN 24356 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T20:56:02.030+09:00 DEBUG 24356 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 49 mappings in 'requestMappingHandlerMapping'
2025-07-01T20:56:02.074+09:00 DEBUG 24356 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T20:56:02.172+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T20:56:02.182+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T20:56:02.182+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T20:56:02.183+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T20:56:02.183+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T20:56:02.183+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T20:56:02.183+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T20:56:02.184+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@2d5b5bde
2025-07-01T20:56:02.213+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T20:56:02.254+09:00  INFO 24356 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T20:56:02.307+09:00  WARN 24356 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T20:56:02.401+09:00 DEBUG 24356 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T20:56:02.425+09:00 DEBUG 24356 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T20:56:02.561+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T20:56:02.598+09:00  INFO 24356 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T20:56:02.700+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T20:56:02.702+09:00  INFO 24356 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T20:56:02.702+09:00  INFO 24356 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T20:56:02.714+09:00  INFO 24356 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 8.264 seconds (process running for 9.11)
2025-07-01T20:56:03.398+09:00  INFO 24356 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01T20:56:03.398+09:00  INFO 24356 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-01T20:56:03.399+09:00 DEBUG 24356 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-01T20:56:03.399+09:00 DEBUG 24356 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-01T20:56:03.399+09:00 DEBUG 24356 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-01T20:56:03.399+09:00 DEBUG 24356 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@500801a7
2025-07-01T20:56:03.400+09:00 DEBUG 24356 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@308701ab
2025-07-01T20:56:03.401+09:00 DEBUG 24356 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01T20:56:03.401+09:00  INFO 24356 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-01T20:56:47.625+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T20:56:47.625+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T20:56:47.633+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T20:56:47.633+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T20:56:47.634+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T20:56:47.635+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T20:56:47.645+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T20:56:47.647+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T20:56:47.651+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T20:56:47.651+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T20:56:47.708+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T20:56:47.747+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T20:56:47.765+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T20:56:47.767+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T20:56:47.767+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T20:56:47.769+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:56:47.774+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T20:56:47.778+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T20:56:47.811+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:56:47.812+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T20:56:47.812+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T20:56:47.812+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T20:56:47.814+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T20:56:47.830+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:56:48.005+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T20:56:48.017+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:56:48.034+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:56:48.042+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T20:56:48.051+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:56:48.056+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T20:56:48.058+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=f64b48d6-864b-42f9-b938-79d87bf80a9f, reason=TOKEN_REFRESH, userId=6
2025-07-01T20:56:48.059+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=f64b48d6-864b-42f9-b938-79d87bf80a9f, reason=TOKEN_REFRESH, userId=6
2025-07-01T20:56:48.060+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T20:56:48.063+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T20:56:48.064+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T20:56:48.064+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T20:56:48.064+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T20:56:48.088+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T20:56:48.093+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T20:56:48.098+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:56:48.098+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T20:56:48.098+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T20:56:48.098+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T20:56:48.101+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T20:56:48.102+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T20:56:48.112+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:56:48.137+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:56:48.140+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:56:48.142+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:56:48.144+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T20:56:48.144+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T20:56:48.144+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T20:56:48.148+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T20:56:48.148+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T20:56:48.148+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T20:56:48.149+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T20:56:48.152+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T20:56:48.154+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T20:56:56.060+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T20:56:56.063+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T20:56:56.065+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T20:56:56.066+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T20:56:56.067+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T20:56:56.068+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T20:56:56.092+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=하이, sessionId=null, clientId=null, modelName=null, temperature=null, maxTok (truncated)...]
2025-07-01T20:56:56.116+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 - 사용자: user_1659, 메시지 길이: 2, 회원 여부: true, 세션: null
2025-07-01T20:56:56.123+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 - 응답 ID: trade-chat-v61-1751371016116-e7425b2c, 사용자: 회원:user_1659, 회원: true
2025-07-01T20:56:56.924+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-6] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "너는 무역 전문가. 사용자의 질문을 분석하여 다음 중 하나의 의도로 분류:\n\n1. HS_CODE_ANALYSIS: HS Code 분류, 관세율, 품목 분석 관련\n2. CARGO_TRACKING: 화물 추적, 통관 상태 조회 관련\n3. GENERAL_TRADE_INFO: 일반적인 무역 정보, 규제, 절차 관련\n4. NOT_TRADE_RELATED: 무역과 관련 없는 질문\n\n반드시 위 4가지 중 하나만 정확히 반환.\n"
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.2
}

2025-07-01T20:56:59.182+09:00  INFO 24356 --- [hscode-radar] [http-nio-8081-exec-6] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T11:56:57Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T11:56:58Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T11:56:56Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T11:56:57Z], [cf-cache-status: DYNAMIC], [cf-ray: 9585b9130c44ea1c-ICN], [content-length: 343], [content-type: application/json], [date: Tue, 01 Jul 2025 11:56:58 GMT], [request-id: req_011CQgFtaPhmQD9cWqL1NJb4], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: {"id":"msg_01HCGR2qeGXNn9WSQsaMPDXx","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"NOT_TRADE_RELATED"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":192,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":10,"service_tier":"standard"}}

2025-07-01T20:57:00.798+09:00  INFO 24356 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 하이
2025-07-01T20:57:00.799+09:00  INFO 24356 --- [hscode-radar] [pool-5-thread-3] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 - 사용자: user_1659, 세션: null
2025-07-01T20:57:01.011+09:00  INFO 24356 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : ✅ HSCode 의미적 검색 완료 - 결과 수: 0, 최대 유사도: 0.0
2025-07-01T20:57:01.013+09:00  INFO 24356 --- [hscode-radar] [pool-5-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이"
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T20:57:03.179+09:00  INFO 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T11:57:00Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T11:57:00Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T11:57:00Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T11:57:00Z], [cache-control: no-cache], [cf-cache-status: DYNAMIC], [cf-ray: 9585b92bf8bb326f-ICN], [content-type: text/event-stream; charset=utf-8], [date: Tue, 01 Jul 2025 11:57:02 GMT], [request-id: req_011CQgFtsVrAehxwDBNdGabK], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: null

2025-07-01T20:57:03.179+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_start", data = "{"type":"message_start","message":{"id":"msg_01D3NqSrkhd6NfTPfeKA2WmP","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":10,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":2,"service_tier":"standard"}}        }" }
2025-07-01T20:57:03.182+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_start", data = "{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}    }" }
2025-07-01T20:57:03.182+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "ping", data = "{"type": "ping"}" }
2025-07-01T20:57:03.183+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"안"}           }" }
2025-07-01T20:57:03.269+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"녕하세요"}    }" }
2025-07-01T20:57:03.468+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"! 반갑습니다. 어"}         }" }
2025-07-01T20:57:03.562+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"떤 도움이 필"}   }" }
2025-07-01T20:57:03.660+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"요하신가요?"}}" }
2025-07-01T20:57:03.722+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_stop", data = "{"type":"content_block_stop","index":0   }" }
2025-07-01T20:57:03.723+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_delta", data = "{"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"output_tokens":35}           }" }
2025-07-01T20:57:03.725+09:00 DEBUG 24356 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_stop", data = "{"type":"message_stop"            }" }
2025-07-01T20:57:03.726+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T20:57:03.740+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T20:57:03.740+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T20:57:03.740+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T20:57:03.742+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T20:57:03.742+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T20:57:03.743+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T20:57:03.743+09:00 DEBUG 24356 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T20:59:04.351+09:00  INFO 24356 --- [hscode-radar] [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:59:04.352+09:00  INFO 24356 --- [hscode-radar] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-07-01T20:59:04.373+09:00  INFO 24356 --- [hscode-radar] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-07-01T20:59:04.507+09:00  INFO 24356 --- [hscode-radar] [SpringApplicationShutdownHook] o.s.s.quartz.SchedulerFactoryBean        : Shutting down Quartz Scheduler
2025-07-01T20:59:04.507+09:00  INFO 24356 --- [hscode-radar] [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01T20:59:04.507+09:00  INFO 24356 --- [hscode-radar] [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED paused.
2025-07-01T20:59:04.507+09:00  INFO 24356 --- [hscode-radar] [SpringApplicationShutdownHook] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED shutdown complete.
2025-07-01T20:59:04.511+09:00  INFO 24356 --- [hscode-radar] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T20:59:04.513+09:00  INFO 24356 --- [hscode-radar] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-01T20:59:04.518+09:00  INFO 24356 --- [hscode-radar] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-01T21:09:00.802+09:00  INFO 33496 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Starting HsCodeRadarApplication v0.0.1-SNAPSHOT using Java 21.0.7 with PID 33496 (E:\React\trade-backend\target\classes started by Aiden in E:\React\trade-backend)
2025-07-01T21:09:00.803+09:00 DEBUG 33496 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Running with Spring Boot v3.5.3, Spring v6.2.8
2025-07-01T21:09:00.804+09:00  INFO 33496 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : The following 1 profile is active: "dev"
2025-07-01T21:09:00.837+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.s.b.devtools.restart.ChangeableUrls    : The Class-Path manifest attribute in C:\Users\Aiden\.m2\repository\org\apache\opennlp\opennlp-tools\2.5.4\opennlp-tools-2.5.4.jar referenced one or more files that do not exist: file:/C:/Users/Aiden/.m2/repository/org/apache/opennlp/opennlp-tools/2.5.4/slf4j-api-2.0.17.jar
2025-07-01T21:09:00.838+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-01T21:09:00.838+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-01T21:09:01.585+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T21:09:01.585+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-01T21:09:01.689+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 10 JPA repository interfaces.
2025-07-01T21:09:01.693+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T21:09:01.693+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T21:09:01.704+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2025-07-01T21:09:02.452+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2025-07-01T21:09:02.452+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-01T21:09:02.523+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.bookmark.repository.BookmarkRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T21:09:02.523+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatMessageRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T21:09:02.524+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.chat.repository.ChatSessionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T21:09:02.525+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.dashboard.repository.DashboardRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T21:09:02.526+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.exchange.repository.ExchangeRatesCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T21:09:02.526+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.feed.repository.UpdateFeedRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T21:09:02.526+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.tradenews.repository.TradeNewsCacheRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T21:09:02.527+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.SnsAccountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T21:09:02.527+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T21:09:02.528+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .RepositoryConfigurationExtensionSupport : Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.hscoderadar.domain.user.repository.UserSettingsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-07-01T21:09:02.528+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 74 ms. Found 0 Redis repository interfaces.
2025-07-01T21:09:02.716+09:00 DEBUG 33496 --- [hscode-radar] [restartedMain] d.l.s.spring.ClassPathAiServiceScanner   : Identified candidate component class: file [E:\React\trade-backend\target\classes\com\hscoderadar\domain\chat\service\TradeAnalysisAI.class]
2025-07-01T21:09:03.671+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8081 (http)
2025-07-01T21:09:03.688+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-01T21:09:03.689+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.42]
2025-07-01T21:09:03.791+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring embedded WebApplicationContext
2025-07-01T21:09:03.792+09:00  INFO 33496 --- [hscode-radar] [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2954 ms
2025-07-01T21:09:03.929+09:00 DEBUG 33496 --- [hscode-radar] [restartedMain] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-07-01T21:09:03.966+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-01T21:09:04.121+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-01T21:09:04.156+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.18.Final
2025-07-01T21:09:04.180+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-07-01T21:09:04.359+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-01T21:09:04.380+09:00  INFO 33496 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-01T21:09:04.661+09:00  INFO 33496 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@46668257
2025-07-01T21:09:04.661+09:00  INFO 33496 --- [hscode-radar] [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-01T21:09:04.685+09:00  WARN 33496 --- [hscode-radar] [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-07-01T21:09:04.697+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-07-01T21:09:05.601+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-07-01T21:09:05.603+09:00  INFO 33496 --- [hscode-radar] [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-01T21:09:06.192+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-01T21:09:06.861+09:00  INFO 33496 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ LangChain4j 임베딩 테이블 생성/확인 완료
2025-07-01T21:09:06.862+09:00  INFO 33496 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 벡터 인덱스 생성/확인 완료
2025-07-01T21:09:06.867+09:00  INFO 33496 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : 🔄 기존 HSCode 벡터 데이터 마이그레이션 시작...
2025-07-01T21:09:06.869+09:00  INFO 33496 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : ✅ 0 개의 HSCode 벡터 데이터 마이그레이션 완료
2025-07-01T21:09:07.165+09:00  INFO 33496 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : Voyage AI 임베딩 모델 초기화 - 모델: voyage-3-large, 차원: 1024
2025-07-01T21:09:07.171+09:00  INFO 33496 --- [hscode-radar] [restartedMain] c.hscoderadar.config.LangChain4jConfig   : PgVector 임베딩 저장소 초기화 - 테이블: langchain4j_embedding, 차원: 1024
2025-07-01T21:09:07.819+09:00  WARN 33496 --- [hscode-radar] [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-01T21:09:07.910+09:00 DEBUG 33496 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 41 mappings in 'requestMappingHandlerMapping'
2025-07-01T21:09:07.947+09:00 DEBUG 33496 --- [hscode-radar] [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-07-01T21:09:08.060+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2025-07-01T21:09:08.077+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2025-07-01T21:09:08.078+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Quartz Scheduler v2.5.0 created.
2025-07-01T21:09:08.078+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2025-07-01T21:09:08.080+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.5.0) 'quartzScheduler' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2025-07-01T21:09:08.080+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'quartzScheduler' initialized from an externally provided properties instance.
2025-07-01T21:09:08.080+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.5.0
2025-07-01T21:09:08.080+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.SpringBeanJobFactory@9e1439e
2025-07-01T21:09:08.113+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoints beneath base path '/actuator'
2025-07-01T21:09:08.144+09:00  INFO 33496 --- [hscode-radar] [restartedMain] r$InitializeUserDetailsManagerConfigurer : Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
2025-07-01T21:09:08.199+09:00  WARN 33496 --- [hscode-radar] [restartedMain] thorizationManagerRequestMatcherRegistry : One of the patterns in [OPTIONS, /**] is missing a leading slash. This is discouraged; please include the leading slash in all your request matcher patterns. In future versions of Spring Security, leaving out the leading slash will result in an exception.
2025-07-01T21:09:08.303+09:00 DEBUG 33496 --- [hscode-radar] [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2025-07-01T21:09:08.326+09:00 DEBUG 33496 --- [hscode-radar] [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 2 ResponseBodyAdvice
2025-07-01T21:09:08.457+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:postgresql://db.k-developer.pro:5432/trade?ssl=true &'
2025-07-01T21:09:08.492+09:00  INFO 33496 --- [hscode-radar] [restartedMain] .w.s.a.s.AnnotationActionEndpointMapping : Supporting [WS-Addressing August 2004, WS-Addressing 1.0]
2025-07-01T21:09:08.587+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8081 (http) with context path '/api'
2025-07-01T21:09:08.588+09:00  INFO 33496 --- [hscode-radar] [restartedMain] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2025-07-01T21:09:08.589+09:00  INFO 33496 --- [hscode-radar] [restartedMain] org.quartz.core.QuartzScheduler          : Scheduler quartzScheduler_$_NON_CLUSTERED started.
2025-07-01T21:09:08.602+09:00  INFO 33496 --- [hscode-radar] [restartedMain] com.hscoderadar.HsCodeRadarApplication   : Started HsCodeRadarApplication in 8.164 seconds (process running for 9.047)
2025-07-01T21:09:09.338+09:00  INFO 33496 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.a.c.c.C.[Tomcat].[localhost].[/api]    : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-01T21:09:09.338+09:00  INFO 33496 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-01T21:09:09.338+09:00 DEBUG 33496 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-07-01T21:09:09.338+09:00 DEBUG 33496 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-07-01T21:09:09.339+09:00 DEBUG 33496 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-07-01T21:09:09.339+09:00 DEBUG 33496 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@794f25d6
2025-07-01T21:09:09.340+09:00 DEBUG 33496 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2bb5182e
2025-07-01T21:09:09.340+09:00 DEBUG 33496 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-07-01T21:09:09.340+09:00  INFO 33496 --- [hscode-radar] [RMI TCP Connection(2)-127.0.0.1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-01T21:09:11.101+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:09:11.454+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:09:11.474+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:09:11.484+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:09:11.491+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:09:11.492+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:09:11.512+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:09:11.530+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:09:11.544+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:09:11.546+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:09:11.546+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:09:11.548+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:09:11.552+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:09:11.556+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:09:11.580+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:09:11.581+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:09:11.581+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:09:11.582+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:09:11.583+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:09:11.597+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:09:13.387+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:09:13.387+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:09:13.388+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:09:13.388+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T21:09:13.389+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:09:13.389+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T21:09:13.391+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:09:13.391+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T21:09:13.393+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T21:09:13.394+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T21:09:13.394+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T21:09:13.401+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T21:09:13.405+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:09:13.407+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:09:13.410+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:09:13.411+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:09:13.411+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:09:13.411+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:09:13.414+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:09:13.415+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:09:13.416+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:09:13.418+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:09:13.418+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:09:13.418+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:09:13.419+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:09:13.420+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:09:13.424+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:09:13.433+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:09:13.445+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:09:13.450+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:09:13.452+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=3e2ecc5d-51af-46cf-9102-47f2aaf9c472, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:09:13.453+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=3e2ecc5d-51af-46cf-9102-47f2aaf9c472, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:09:13.454+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:09:13.456+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T21:09:13.458+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T21:09:13.458+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:09:13.458+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T21:09:13.479+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T21:09:13.485+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T21:09:13.489+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:09:13.489+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T21:09:13.489+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T21:09:13.489+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T21:09:13.491+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T21:09:13.493+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:09:13.499+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:09:13.503+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:09:13.505+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:09:13.506+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:09:13.508+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T21:09:13.508+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T21:09:13.509+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T21:09:13.512+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:09:13.513+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T21:09:13.513+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T21:09:13.513+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T21:09:13.516+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T21:09:13.517+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:09:17.212+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:09:17.216+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:09:17.218+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:09:17.220+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:09:17.221+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T21:09:17.221+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T21:09:17.251+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=하이?, sessionId=null, clientId=null, modelName=null, temperature=null, maxTo (truncated)...]
2025-07-01T21:09:17.283+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 (SSE 표준) - 사용자: user_1259, 메시지 길이: 3, 회원 여부: true, 세션: null
2025-07-01T21:09:17.291+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 (SSE 표준) - 응답 ID: trade-chat-v61-1751371757284-9300871b, 사용자: 회원:user_1259, 회원: true
2025-07-01T21:09:17.712+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-6] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이?"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "너는 무역 전문가. 사용자의 질문을 분석하여 다음 중 하나의 의도로 분류:\n\n1. HS_CODE_ANALYSIS: HS Code 분류, 관세율, 품목 분석 관련\n2. CARGO_TRACKING: 화물 추적, 통관 상태 조회 관련\n3. GENERAL_TRADE_INFO: 일반적인 무역 정보, 규제, 절차 관련\n4. NOT_TRADE_RELATED: 무역과 관련 없는 질문\n\n반드시 위 4가지 중 하나만 정확히 반환.\n"
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.2
}

2025-07-01T21:09:20.955+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-6] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:09:19Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:09:19Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:09:17Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:09:19Z], [cf-cache-status: DYNAMIC], [cf-ray: 9585cb28a99ac114-ICN], [content-length: 343], [content-type: application/json], [date: Tue, 01 Jul 2025 12:09:20 GMT], [request-id: req_011CQgGqBPPLuKatC3y9qmTD], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: {"id":"msg_01BdqEpR6WTcmMSreNRnmxRR","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"NOT_TRADE_RELATED"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":193,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":10,"service_tier":"standard"}}

2025-07-01T21:09:22.648+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 하이?
2025-07-01T21:09:22.649+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-3] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 (SSE 표준) - 사용자: user_1259, 세션: null
2025-07-01T21:09:22.877+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : ✅ HSCode 의미적 검색 완료 - 결과 수: 0, 최대 유사도: 0.0
2025-07-01T21:09:22.880+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이?"
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T21:09:26.140+09:00  INFO 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:09:22Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:09:22Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:09:22Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:09:22Z], [cache-control: no-cache], [cf-cache-status: DYNAMIC], [cf-ray: 9585cb48aab53085-ICN], [content-type: text/event-stream; charset=utf-8], [date: Tue, 01 Jul 2025 12:09:25 GMT], [request-id: req_011CQgGqZG2Pq827eVU1Gmi4], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: null

2025-07-01T21:09:26.150+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_start", data = "{"type":"message_start","message":{"id":"msg_01YL6VS7miRecaZ9iLTdDJ9q","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":2,"service_tier":"standard"}}            }" }
2025-07-01T21:09:26.153+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_start", data = "{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}               }" }
2025-07-01T21:09:26.161+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "ping", data = "{"type": "ping"}" }
2025-07-01T21:09:26.172+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"안"}   }" }
2025-07-01T21:09:26.210+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"녕하세요"}               }" }
2025-07-01T21:09:26.313+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"! 반갑습니"}       }" }
2025-07-01T21:09:26.352+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"다. 어떻"}            }" }
2025-07-01T21:09:26.457+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"게 도와드릴까"}               }" }
2025-07-01T21:09:26.522+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"요?"}         }" }
2025-07-01T21:09:26.522+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_stop", data = "{"type":"content_block_stop","index":0      }" }
2025-07-01T21:09:26.533+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_delta", data = "{"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"output_tokens":33}       }" }
2025-07-01T21:09:26.533+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-1] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_stop", data = "{"type":"message_stop"          }" }
2025-07-01T21:09:26.535+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T21:09:26.550+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T21:09:26.550+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T21:09:26.551+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:09:26.553+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T21:09:26.554+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T21:09:26.554+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T21:09:26.555+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:11:28.910+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:11:28.913+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:11:28.916+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:11:28.918+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:11:28.919+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:11:28.919+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:11:28.920+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:11:28.930+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:11:28.932+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:11:28.932+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:11:28.932+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:11:28.933+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:11:28.934+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:11:28.935+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:11:28.936+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:11:28.936+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:11:28.936+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:11:28.936+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:11:28.936+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:11:28.938+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:15:49.612+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:15:49.612+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:15:49.612+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:15:49.613+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T21:15:49.613+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T21:15:49.613+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:15:49.613+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T21:15:49.613+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T21:15:49.613+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:15:49.614+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T21:15:49.614+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T21:15:49.614+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T21:15:49.614+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T21:15:49.615+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T21:15:49.615+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T21:15:49.615+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T21:15:49.615+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T21:15:49.615+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:15:49.618+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T21:15:49.618+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T21:15:49.620+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:15:49.625+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:15:49.625+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:15:49.626+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:15:49.628+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:15:49.629+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:15:49.630+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:15:49.630+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:15:49.630+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:15:49.630+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:15:49.631+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:15:49.632+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:15:49.633+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:15:49.634+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:15:49.634+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:15:49.635+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=d2f80b0b-54ad-4906-922e-aa8b75ff1bc0, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:15:49.635+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:15:49.636+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:15:49.637+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=d2f80b0b-54ad-4906-922e-aa8b75ff1bc0, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:15:49.637+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=d2f80b0b-54ad-4906-922e-aa8b75ff1bc0, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:15:49.638+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:15:49.638+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:15:49.638+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:15:49.638+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:15:49.639+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:15:49.639+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=d2f80b0b-54ad-4906-922e-aa8b75ff1bc0, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:15:49.639+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:15:49.641+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:15:49.641+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T21:15:49.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T21:15:49.642+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:15:49.642+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T21:15:49.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T21:15:49.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:15:49.643+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T21:15:49.643+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:15:49.643+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T21:15:49.643+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T21:15:49.644+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T21:15:49.644+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:15:49.646+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:15:49.646+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:15:49.647+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T21:15:49.647+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:15:49.648+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:15:49.648+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T21:15:49.649+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T21:15:49.649+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T21:15:49.649+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T21:15:49.650+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:15:49.651+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T21:15:49.651+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:15:49.651+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T21:15:49.652+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T21:15:49.652+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T21:15:49.652+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T21:15:49.653+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:15:49.659+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:15:49.662+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:15:49.662+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:15:49.663+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:15:49.663+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:15:49.665+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:15:49.667+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:15:49.668+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:15:49.668+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:15:49.668+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:15:49.668+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:15:49.669+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:15:49.671+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:15:49.672+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:15:49.674+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:15:49.676+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:15:49.678+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:15:49.680+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T21:15:49.680+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T21:15:49.680+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T21:15:49.681+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:15:49.681+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T21:15:49.681+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T21:15:49.681+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T21:15:49.682+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T21:15:49.683+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:15:49.685+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:15:49.689+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:15:49.691+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:15:49.695+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:15:49.696+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T21:15:49.696+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T21:15:49.696+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T21:15:49.697+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:15:49.697+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T21:15:49.698+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T21:15:49.698+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T21:15:49.698+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T21:15:49.699+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:16:31.960+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:16:31.965+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:16:31.967+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:16:31.969+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:16:31.970+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:16:31.970+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:16:31.971+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:16:31.978+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:16:31.980+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:16:31.980+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:16:31.980+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:16:31.981+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:16:31.983+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:16:31.983+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:16:31.984+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:16:31.984+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:16:31.984+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:16:31.985+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:16:31.985+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:16:31.986+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:16:31.988+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:16:31.991+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:16:31.993+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:16:31.995+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:16:31.995+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:16:31.996+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:16:31.997+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:16:32.002+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:16:32.003+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:16:32.004+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:16:32.004+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:16:32.004+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:16:32.006+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:16:32.007+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:16:32.007+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:16:32.008+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:16:32.008+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:16:32.008+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:16:32.008+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:16:32.009+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:17:03.257+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:17:03.259+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T21:17:03.259+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T21:17:03.260+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T21:17:03.260+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:17:03.260+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T21:17:03.260+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:17:03.261+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:17:03.261+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T21:17:03.261+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T21:17:03.263+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:17:03.263+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:17:03.263+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T21:17:03.263+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T21:17:03.264+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T21:17:03.264+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T21:17:03.265+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T21:17:03.266+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:17:03.266+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T21:17:03.267+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T21:17:03.269+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T21:17:03.270+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:17:03.271+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:17:03.272+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:17:03.273+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:17:03.273+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:17:03.273+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:17:03.273+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:17:03.274+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:17:03.275+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:17:03.275+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:17:03.276+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:17:03.276+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:17:03.276+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:17:03.276+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:17:03.276+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:17:03.276+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:17:03.277+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:17:03.278+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:17:03.278+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=11f5a976-8404-4287-924b-27d5be26e464, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:17:03.279+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:17:03.280+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=11f5a976-8404-4287-924b-27d5be26e464, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:17:03.281+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:17:03.281+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:17:03.282+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:17:03.283+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T21:17:03.283+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:17:03.284+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T21:17:03.284+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:17:03.284+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T21:17:03.284+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:17:03.285+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T21:17:03.285+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:17:03.285+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:17:03.286+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=11f5a976-8404-4287-924b-27d5be26e464, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:17:03.286+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:17:03.288+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=11f5a976-8404-4287-924b-27d5be26e464, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:17:03.289+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:17:03.290+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T21:17:03.290+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T21:17:03.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:17:03.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T21:17:03.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T21:17:03.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T21:17:03.291+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:17:03.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T21:17:03.291+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T21:17:03.292+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T21:17:03.292+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:17:03.292+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T21:17:03.295+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T21:17:03.295+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:17:03.295+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:17:03.296+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T21:17:03.296+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T21:17:03.296+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T21:17:03.296+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T21:17:03.296+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:17:03.296+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:17:03.297+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:17:03.297+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:17:03.297+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:17:03.299+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:17:03.300+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:17:03.301+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:17:03.301+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:17:03.301+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:17:03.301+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:17:03.302+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:17:03.303+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:17:03.311+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:17:03.340+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:17:03.343+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:17:03.345+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:17:03.345+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T21:17:03.346+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T21:17:03.346+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T21:17:03.347+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:17:03.348+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T21:17:03.348+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T21:17:03.348+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T21:17:03.348+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T21:17:03.349+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:17:03.351+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:17:03.354+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:17:03.356+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:17:03.357+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:17:03.358+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T21:17:03.359+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T21:17:03.360+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T21:17:03.360+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:17:03.360+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T21:17:03.360+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T21:17:03.361+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T21:17:03.361+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T21:17:03.361+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:17:45.970+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:17:45.973+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:17:45.975+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:17:45.977+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:17:45.977+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:17:45.978+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:17:45.979+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:17:45.982+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:17:45.983+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:17:45.983+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:17:45.984+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:17:45.984+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:17:45.985+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:17:45.986+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:17:45.987+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:17:45.987+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:17:45.987+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:17:45.987+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:17:45.988+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:17:45.989+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:17:45.990+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:17:45.993+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:17:45.994+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:17:45.995+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:17:45.996+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:17:45.996+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:17:45.997+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:17:46.002+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:17:46.003+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:17:46.003+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:17:46.003+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:17:46.003+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:17:46.004+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:17:46.005+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:17:46.005+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:17:46.005+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:17:46.006+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:17:46.006+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:17:46.006+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:17:46.007+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:18:21.969+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:18:21.972+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:18:21.973+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:18:21.974+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:18:21.975+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:18:21.975+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:18:21.976+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:18:21.980+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:18:21.981+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:18:21.982+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:18:21.982+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:18:21.982+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:18:21.983+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:18:21.984+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:18:21.984+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:18:21.984+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:18:21.985+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:18:21.985+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:18:21.985+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:18:21.986+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:18:21.987+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:18:21.989+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:18:21.991+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:18:21.992+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:18:21.993+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:18:21.993+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:18:21.994+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:18:21.998+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:18:21.999+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:18:21.999+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:18:21.999+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:18:22.000+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:18:22.001+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:18:22.001+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:18:22.002+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:18:22.002+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:18:22.002+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:18:22.003+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:18:22.003+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:18:22.004+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:19:23.961+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:19:23.964+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:19:23.966+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:19:23.968+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:19:23.969+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:19:23.969+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:19:23.970+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:19:23.975+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:19:23.976+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:19:23.976+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:19:23.976+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:19:23.977+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:19:23.978+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:19:23.979+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:19:23.980+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:19:23.980+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:19:23.980+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:19:23.980+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:19:23.981+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:19:23.982+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:19:23.984+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:19:23.987+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:19:23.988+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:19:23.989+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:19:23.990+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:19:23.990+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:19:23.991+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:19:23.994+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:19:23.995+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:19:23.996+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:19:23.996+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:19:23.996+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:19:23.997+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:19:23.998+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:19:23.998+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:19:23.999+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:19:23.999+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:19:23.999+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:19:24.000+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:19:24.000+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:19:36.828+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:19:36.828+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:19:36.828+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T21:19:36.828+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:19:36.829+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T21:19:36.829+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:19:36.829+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T21:19:36.829+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T21:19:36.830+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T21:19:36.830+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T21:19:36.830+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:19:36.832+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T21:19:36.833+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:19:36.835+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:19:36.836+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:19:36.836+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:19:36.836+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:19:36.836+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:19:36.837+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:19:36.838+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:19:36.839+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:19:36.839+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:19:36.839+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:19:36.839+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:19:36.840+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:19:36.840+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:19:36.841+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:19:36.841+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:19:36.842+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:19:36.843+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:19:36.844+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=8d057454-385b-4f48-81c8-050e2bd40e34, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:19:36.845+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=8d057454-385b-4f48-81c8-050e2bd40e34, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:19:36.846+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:19:36.847+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T21:19:36.848+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T21:19:36.848+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:19:36.848+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T21:19:36.850+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T21:19:36.852+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T21:19:36.852+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:19:36.853+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T21:19:36.853+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T21:19:36.853+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T21:19:36.853+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T21:19:36.854+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:19:36.861+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:19:36.866+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:19:36.868+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:19:36.870+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:19:36.871+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T21:19:36.872+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T21:19:36.872+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T21:19:36.873+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:19:36.874+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T21:19:36.874+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T21:19:36.874+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T21:19:36.874+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T21:19:36.875+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:19:41.272+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:19:41.276+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:19:41.278+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:19:41.279+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:19:41.280+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T21:19:41.280+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T21:19:41.281+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=하이?, sessionId=null, clientId=null, modelName=null, temperature=null, maxTo (truncated)...]
2025-07-01T21:19:41.281+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 (SSE 표준) - 사용자: user_4356, 메시지 길이: 3, 회원 여부: true, 세션: null
2025-07-01T21:19:41.282+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 (SSE 표준) - 응답 ID: trade-chat-v61-1751372381282-204971d6, 사용자: 회원:user_4356, 회원: true
2025-07-01T21:19:41.812+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이?"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "너는 무역 전문가. 사용자의 질문을 분석하여 다음 중 하나의 의도로 분류:\n\n1. HS_CODE_ANALYSIS: HS Code 분류, 관세율, 품목 분석 관련\n2. CARGO_TRACKING: 화물 추적, 통관 상태 조회 관련\n3. GENERAL_TRADE_INFO: 일반적인 무역 정보, 규제, 절차 관련\n4. NOT_TRADE_RELATED: 무역과 관련 없는 질문\n\n반드시 위 4가지 중 하나만 정확히 반환.\n"
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.2
}

2025-07-01T21:19:56.861+09:00  WARN 33496 --- [hscode-radar] [http-nio-8081-exec-1] dev.langchain4j.internal.RetryUtils      : A retriable exception occurred. Remaining retries: 2 of 2

dev.langchain4j.exception.TimeoutException: HTTP connect timed out
	at dev.langchain4j.http.client.jdk.JdkHttpClient.execute(JdkHttpClient.java:58) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.http.client.log.LoggingHttpClient.execute(LoggingHttpClient.java:39) ~[langchain4j-http-client-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.internal.client.DefaultAnthropicClient.createMessage(DefaultAnthropicClient.java:100) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.model.anthropic.AnthropicChatModel.lambda$doChat$0(AnthropicChatModel.java:278) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:29) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.lambda$withRetryMappingExceptions$2(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils$RetryPolicy.withRetry(RetryUtils.java:211) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetry(RetryUtils.java:264) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:308) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.anthropic.AnthropicChatModel.doChat(AnthropicChatModel.java:278) ~[langchain4j-anthropic-1.1.0-rc1.jar:na]
	at dev.langchain4j.model.chat.ChatModel.chat(ChatModel.java:46) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.guardrail.SynchronousChatExecutor.execute(SynchronousChatExecutor.java:32) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.guardrail.AbstractChatExecutor.execute(AbstractChatExecutor.java:45) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.service.DefaultAiServices$1.invoke(DefaultAiServices.java:256) ~[langchain4j-1.1.0.jar:na]
	at jdk.proxy4/jdk.proxy4.$Proxy232.analyzeTradeIntent(Unknown Source) ~[na:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.analyzeTradeIntent(TradeChatService.java:569) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$0(TradeChatService.java:69) ~[classes/:na]
	at reactor.core.publisher.FluxCreate.subscribe(FluxCreate.java:97) ~[reactor-core-3.7.7.jar:3.7.7]
	at reactor.core.publisher.Flux.subscribe(Flux.java:8891) ~[reactor-core-3.7.7.jar:3.7.7]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler$AbstractEmitterSubscriber.connect(ReactiveTypeHandler.java:283) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ReactiveTypeHandler.handleValue(ReactiveTypeHandler.java:167) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ResponseBodyEmitterReturnValueHandler.handleReturnValue(ResponseBodyEmitterReturnValueHandler.java:210) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.42.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:59) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:216) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:202) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.ui.DefaultResourcesFilter.doFilter(DefaultResourcesFilter.java:72) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at com.hscoderadar.config.jwt.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:147) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:235) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:229) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:198) ~[spring-security-oauth2-client-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267) ~[spring-webmvc-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240) ~[spring-security-config-6.5.1.jar:6.5.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.2.8.jar:6.2.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.2.8.jar:6.2.8]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1769) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.42.jar:10.1.42]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: java.net.http.HttpConnectTimeoutException: HTTP connect timed out
	at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:945) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:133) ~[java.net.http:na]
	at dev.langchain4j.http.client.jdk.JdkHttpClient.execute(JdkHttpClient.java:50) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	... 185 common frames omitted
Caused by: java.net.http.HttpConnectTimeoutException: HTTP connect timed out
	at java.net.http/jdk.internal.net.http.MultiExchange.toTimeoutException(MultiExchange.java:585) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.MultiExchange.getExceptionalCF(MultiExchange.java:532) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.MultiExchange.lambda$responseAsyncImpl$7(MultiExchange.java:452) ~[java.net.http:na]
	at java.base/java.util.concurrent.CompletableFuture.uniHandle(CompletableFuture.java:934) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture$UniHandle.tryFire(CompletableFuture.java:911) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510) ~[na:na]
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194) ~[na:na]
	at java.net.http/jdk.internal.net.http.Exchange.checkCancelled(Exchange.java:335) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.Exchange.cancel(Exchange.java:298) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.MultiExchange.cancel(MultiExchange.java:265) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.PlainHttpConnection$ConnectTimerEvent.handle(PlainHttpConnection.java:103) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.HttpClientImpl.purgeTimeoutsAndReturnNextDeadline(HttpClientImpl.java:1780) ~[java.net.http:na]
	at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.run(HttpClientImpl.java:1378) ~[java.net.http:na]
Caused by: java.net.ConnectException: HTTP connect timed out
	at java.net.http/jdk.internal.net.http.MultiExchange.toTimeoutException(MultiExchange.java:586) ~[java.net.http:na]
	... 12 common frames omitted

2025-07-01T21:19:57.399+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이?"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "너는 무역 전문가. 사용자의 질문을 분석하여 다음 중 하나의 의도로 분류:\n\n1. HS_CODE_ANALYSIS: HS Code 분류, 관세율, 품목 분석 관련\n2. CARGO_TRACKING: 화물 추적, 통관 상태 조회 관련\n3. GENERAL_TRADE_INFO: 일반적인 무역 정보, 규제, 절차 관련\n4. NOT_TRADE_RELATED: 무역과 관련 없는 질문\n\n반드시 위 4가지 중 하나만 정확히 반환.\n"
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.2
}

2025-07-01T21:20:00.016+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-1] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:19:58Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:19:58Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:19:56Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:19:58Z], [cf-cache-status: DYNAMIC], [cf-ray: 9585dac65fe8bcc4-ICN], [content-length: 343], [content-type: application/json], [date: Tue, 01 Jul 2025 12:19:59 GMT], [request-id: req_011CQgHeLGEfzbYwJ8KBAPdX], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: {"id":"msg_01DvXAJZTMQkzzEhADHgMU2v","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"NOT_TRADE_RELATED"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":193,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":10,"service_tier":"standard"}}

2025-07-01T21:20:01.703+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-4] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 하이?
2025-07-01T21:20:01.703+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-6] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 (SSE 표준) - 사용자: user_4356, 세션: null
2025-07-01T21:20:01.703+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-4] c.h.domain.chat.service.TradeRagService  : 💾 캐시에서 검색 결과 반환 - 결과 수: 0
2025-07-01T21:20:01.704+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-4] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이?"
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T21:20:04.758+09:00  INFO 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:20:00Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:20:00Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:20:01Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:20:00Z], [cache-control: no-cache], [cf-cache-status: DYNAMIC], [cf-ray: 9585dae14b1dd1e9-ICN], [content-type: text/event-stream; charset=utf-8], [date: Tue, 01 Jul 2025 12:20:03 GMT], [request-id: req_011CQgHeeTcfjzwwbnBaGwrR], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: null

2025-07-01T21:20:04.765+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_start", data = "{"type":"message_start","message":{"id":"msg_01EbxAD1PJWKcWfrQD2yLmzi","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":2,"service_tier":"standard"}}               }" }
2025-07-01T21:20:04.777+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_start", data = "{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}     }" }
2025-07-01T21:20:04.840+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "ping", data = "{"type": "ping"}" }
2025-07-01T21:20:04.841+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"안"} }" }
2025-07-01T21:20:04.841+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"녕하세요! 반"} }" }
2025-07-01T21:20:04.866+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"갑습니다. 어"}       }" }
2025-07-01T21:20:04.952+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"떻게 도와드"}        }" }
2025-07-01T21:20:04.980+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"릴까요?"}      }" }
2025-07-01T21:20:04.985+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_stop", data = "{"type":"content_block_stop","index":0              }" }
2025-07-01T21:20:04.985+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_delta", data = "{"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"output_tokens":33}             }" }
2025-07-01T21:20:04.990+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-3] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_stop", data = "{"type":"message_stop"        }" }
2025-07-01T21:20:04.990+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T21:20:04.997+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T21:20:04.997+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T21:20:04.997+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:20:04.999+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T21:20:04.999+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T21:20:04.999+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T21:20:05.000+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:21:30.734+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:21:30.737+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:21:30.739+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:21:30.741+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:21:30.741+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:21:30.742+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:21:30.743+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:21:30.748+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:21:30.750+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:21:30.750+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:21:30.750+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:21:30.751+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:21:30.752+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:21:30.753+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:21:30.754+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:21:30.754+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:21:30.754+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:21:30.754+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:21:30.754+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:21:30.755+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:22:33.274+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:22:33.278+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:22:33.280+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:22:33.282+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:22:33.283+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:22:33.283+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:22:33.284+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:22:33.287+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:22:33.288+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:22:33.288+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:22:33.288+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:22:33.289+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:22:33.290+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:22:33.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:22:33.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:22:33.292+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:22:33.292+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:22:33.292+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:22:33.292+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:22:33.294+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:29:25.156+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:29:25.160+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:29:25.162+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:29:25.163+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:29:25.164+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:29:25.164+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:29:25.166+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:29:25.169+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:29:25.171+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:29:25.171+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:29:25.172+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:29:25.172+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:29:25.173+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:29:25.174+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:29:25.175+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:29:25.175+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:29:25.175+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:29:25.175+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:29:25.175+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:29:25.176+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:29:26.618+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:29:26.618+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:29:26.618+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:29:26.618+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T21:29:26.619+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:29:26.619+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T21:29:26.619+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T21:29:26.619+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T21:29:26.620+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T21:29:26.620+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T21:29:26.620+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:29:26.622+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T21:29:26.624+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:29:26.624+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:29:26.625+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:29:26.626+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:29:26.626+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:29:26.626+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:29:26.626+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:29:26.627+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:29:26.628+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:29:26.629+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:29:26.629+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:29:26.629+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:29:26.630+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:29:26.630+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:29:26.631+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:29:26.631+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:29:26.632+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:29:26.633+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:29:26.633+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=b0c644af-744d-42bb-95ef-e7ac502c4748, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:29:26.635+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=b0c644af-744d-42bb-95ef-e7ac502c4748, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:29:26.636+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:29:26.636+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T21:29:26.637+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T21:29:26.637+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:29:26.638+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T21:29:26.639+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T21:29:26.641+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T21:29:26.641+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:29:26.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T21:29:26.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T21:29:26.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T21:29:26.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T21:29:26.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:29:26.652+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:29:26.654+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:29:26.655+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:29:26.657+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:29:26.657+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T21:29:26.657+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T21:29:26.657+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T21:29:26.658+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:29:26.658+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T21:29:26.658+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T21:29:26.659+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T21:29:26.659+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T21:29:26.659+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:29:32.571+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:29:32.574+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:29:32.575+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:29:32.576+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:29:32.577+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T21:29:32.577+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T21:29:32.578+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=하이하이?, sessionId=null, clientId=null, modelName=null, temperature=null, max (truncated)...]
2025-07-01T21:29:32.578+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 (SSE 표준) - 사용자: user_8956, 메시지 길이: 5, 회원 여부: true, 세션: null
2025-07-01T21:29:32.579+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 (SSE 표준) - 응답 ID: trade-chat-v61-1751372972579-74a518d6, 사용자: 회원:user_8956, 회원: true
2025-07-01T21:29:33.106+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이하이?"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "너는 무역 전문가. 사용자의 질문을 분석하여 다음 중 하나의 의도로 분류:\n\n1. HS_CODE_ANALYSIS: HS Code 분류, 관세율, 품목 분석 관련\n2. CARGO_TRACKING: 화물 추적, 통관 상태 조회 관련\n3. GENERAL_TRADE_INFO: 일반적인 무역 정보, 규제, 절차 관련\n4. NOT_TRADE_RELATED: 무역과 관련 없는 질문\n\n반드시 위 4가지 중 하나만 정확히 반환.\n"
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.2
}

2025-07-01T21:29:35.278+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-4] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:29:33Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:29:34Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:29:32Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:29:33Z], [cf-cache-status: DYNAMIC], [cf-ray: 9585e8d4c9f0e9f9-ICN], [content-length: 343], [content-type: application/json], [date: Tue, 01 Jul 2025 12:29:34 GMT], [request-id: req_011CQgJNmo4ZWU8hRk4z57LQ], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: {"id":"msg_018trLfW68BRkUqibejfzuwa","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"NOT_TRADE_RELATED"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":195,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":10,"service_tier":"standard"}}

2025-07-01T21:29:36.919+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-7] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 하이하이?
2025-07-01T21:29:36.919+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-9] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 (SSE 표준) - 사용자: user_8956, 세션: null
2025-07-01T21:29:37.134+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-7] c.h.domain.chat.service.TradeRagService  : ✅ HSCode 의미적 검색 완료 - 결과 수: 0, 최대 유사도: 0.0
2025-07-01T21:29:37.135+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-7] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이하이?"
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T21:29:38.843+09:00  INFO 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:29:36Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:29:36Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:29:36Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:29:36Z], [cache-control: no-cache], [cf-cache-status: DYNAMIC], [cf-ray: 9585e8edbf9deab1-ICN], [content-type: text/event-stream; charset=utf-8], [date: Tue, 01 Jul 2025 12:29:37 GMT], [request-id: req_011CQgJP4iYuCymKLTNKB4Jx], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: null

2025-07-01T21:29:38.843+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_start", data = "{"type":"message_start","message":{"id":"msg_01Whiwt4nZi2mifvznehxRqM","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":13,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":2,"service_tier":"standard"}}   }" }
2025-07-01T21:29:38.847+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_start", data = "{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}   }" }
2025-07-01T21:29:38.848+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "ping", data = "{"type": "ping"}" }
2025-07-01T21:29:38.848+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"안"}           }" }
2025-07-01T21:29:39.120+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"녕하세요! 반"}  }" }
2025-07-01T21:29:39.371+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"갑습니다 😊 "}        }" }
2025-07-01T21:29:39.531+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"\n\n무엇을 도와드릴까요?"}        }" }
2025-07-01T21:29:39.742+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_stop", data = "{"type":"content_block_stop","index":0     }" }
2025-07-01T21:29:39.743+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_delta", data = "{"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"output_tokens":36}      }" }
2025-07-01T21:29:39.745+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-5] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_stop", data = "{"type":"message_stop"      }" }
2025-07-01T21:29:39.746+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T21:29:39.751+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T21:29:39.751+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T21:29:39.751+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:29:39.752+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T21:29:39.753+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T21:29:39.753+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T21:29:39.754+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:30:46.850+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:30:46.853+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:30:46.855+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:30:46.856+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:30:46.857+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:30:46.857+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:30:46.857+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:30:46.860+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:30:46.861+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:30:46.861+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:30:46.862+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:30:46.862+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:30:46.863+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:30:46.863+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:30:46.864+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:30:46.864+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:30:46.864+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:30:46.864+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:30:46.865+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:30:46.866+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:32:12.626+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:32:12.630+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:32:12.632+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:32:12.633+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:32:12.633+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:32:12.633+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:32:12.635+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:32:12.638+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:32:12.640+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:32:12.640+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:32:12.640+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:32:12.641+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:32:12.641+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:32:12.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:32:12.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:32:12.642+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:32:12.643+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:32:12.643+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:32:12.643+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:32:12.644+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:33:33.222+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:33:33.225+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:33:33.227+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:33:33.229+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:33:33.230+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:33:33.231+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:33:33.231+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:33:33.235+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:33:33.237+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:33:33.237+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:33:33.237+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:33:33.237+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:33:33.238+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:33:33.239+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:33:33.239+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:33:33.240+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:33:33.240+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:33:33.240+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:33:33.240+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:33:33.241+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:33:36.688+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:33:36.691+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:33:36.694+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:33:36.695+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:33:36.696+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:33:36.696+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:33:36.697+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:33:36.701+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:33:36.702+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:33:36.702+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:33:36.702+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:33:36.703+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:33:36.704+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:33:36.704+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:33:36.705+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:33:36.705+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:33:36.706+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:33:36.706+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:33:36.706+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:33:36.708+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:34:55.299+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:34:55.299+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:34:55.300+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:34:55.300+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T21:34:55.300+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:34:55.300+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T21:34:55.301+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T21:34:55.301+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T21:34:55.301+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T21:34:55.302+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T21:34:55.302+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:34:55.304+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T21:34:55.306+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:34:55.307+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:34:55.308+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:34:55.308+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:34:55.308+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:34:55.309+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:34:55.309+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:34:55.310+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:34:55.310+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:34:55.311+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:34:55.311+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:34:55.312+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:34:55.312+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:34:55.312+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:34:55.312+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:34:55.313+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:34:55.313+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:34:55.314+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:34:55.314+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=29a42370-4f3d-4881-a41c-8a7e43b84838, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:34:55.316+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=29a42370-4f3d-4881-a41c-8a7e43b84838, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:34:55.316+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:34:55.318+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T21:34:55.318+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T21:34:55.318+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:34:55.319+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T21:34:55.320+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T21:34:55.321+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T21:34:55.322+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:34:55.322+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T21:34:55.322+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T21:34:55.322+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T21:34:55.322+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T21:34:55.323+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:34:55.327+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:34:55.329+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:34:55.330+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:34:55.331+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:34:55.332+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T21:34:55.332+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T21:34:55.332+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T21:34:55.333+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:34:55.333+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T21:34:55.333+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T21:34:55.333+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T21:34:55.333+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T21:34:55.333+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:35:00.233+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:35:00.236+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:35:00.238+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:35:00.238+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:35:00.239+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T21:35:00.239+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T21:35:00.240+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=하이?, sessionId=null, clientId=null, modelName=null, temperature=null, maxTo (truncated)...]
2025-07-01T21:35:00.241+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 (SSE 표준) - 사용자: user_6483, 메시지 길이: 3, 회원 여부: true, 세션: null
2025-07-01T21:35:00.241+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 (SSE 표준) - 응답 ID: trade-chat-v61-1751373300241-d398162d, 사용자: 회원:user_6483, 회원: true
2025-07-01T21:35:00.902+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-7] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이?"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "너는 무역 전문가. 사용자의 질문을 분석하여 다음 중 하나의 의도로 분류:\n\n1. HS_CODE_ANALYSIS: HS Code 분류, 관세율, 품목 분석 관련\n2. CARGO_TRACKING: 화물 추적, 통관 상태 조회 관련\n3. GENERAL_TRADE_INFO: 일반적인 무역 정보, 규제, 절차 관련\n4. NOT_TRADE_RELATED: 무역과 관련 없는 질문\n\n반드시 위 4가지 중 하나만 정확히 반환.\n"
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.2
}

2025-07-01T21:35:04.077+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-7] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:35:02Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:35:03Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:35:00Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:35:02Z], [cf-cache-status: DYNAMIC], [cf-ray: 9585f0d58f3030b5-ICN], [content-length: 343], [content-type: application/json], [date: Tue, 01 Jul 2025 12:35:03 GMT], [request-id: req_011CQgJnxbciXbz5Sj94BEcV], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: {"id":"msg_01PJiAMa1hECgH3AjZmmATv6","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"NOT_TRADE_RELATED"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":193,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":10,"service_tier":"standard"}}

2025-07-01T21:35:05.684+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-3] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 (SSE 표준) - 사용자: user_6483, 세션: null
2025-07-01T21:35:05.684+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-10] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 하이?
2025-07-01T21:35:05.684+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-10] c.h.domain.chat.service.TradeRagService  : 💾 캐시에서 검색 결과 반환 - 결과 수: 0
2025-07-01T21:35:05.685+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-10] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "하이?"
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T21:35:08.505+09:00  INFO 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:35:05Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:35:05Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:35:05Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:35:05Z], [cache-control: no-cache], [cf-cache-status: DYNAMIC], [cf-ray: 9585f0f32ff3c05f-ICN], [content-type: text/event-stream; charset=utf-8], [date: Tue, 01 Jul 2025 12:35:07 GMT], [request-id: req_011CQgJoHkHzu5Ty1qAMBU2h], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: null

2025-07-01T21:35:08.517+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_start", data = "{"type":"message_start","message":{"id":"msg_0147fjVAoDFJRGdE6pfwd3QP","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":11,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":2,"service_tier":"standard"}}     }" }
2025-07-01T21:35:08.525+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_start", data = "{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}           }" }
2025-07-01T21:35:08.550+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "ping", data = "{"type": "ping"}" }
2025-07-01T21:35:08.564+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"안"}      }" }
2025-07-01T21:35:08.591+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"녕하세요!"}   }" }
2025-07-01T21:35:08.768+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" 반갑습니"} }" }
2025-07-01T21:35:08.978+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"다. 어떻게 도와"}       }" }
2025-07-01T21:35:09.007+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"드릴까요?"}  }" }
2025-07-01T21:35:09.107+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_stop", data = "{"type":"content_block_stop","index":0           }" }
2025-07-01T21:35:09.128+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_delta", data = "{"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"output_tokens":33}      }" }
2025-07-01T21:35:09.159+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-7] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_stop", data = "{"type":"message_stop"         }" }
2025-07-01T21:35:09.160+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T21:35:09.164+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T21:35:09.164+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T21:35:09.165+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:35:09.166+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T21:35:09.167+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T21:35:09.167+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T21:35:09.168+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:36:02.341+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:36:02.345+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:36:02.347+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:36:02.348+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:36:02.348+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:36:02.349+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:36:02.350+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:36:02.353+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:36:02.355+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:36:02.355+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:36:02.355+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:36:02.355+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:36:02.355+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:36:02.356+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:36:02.357+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:36:02.357+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:36:02.357+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:36:02.357+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:36:02.358+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:36:02.358+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:36:51.761+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:36:51.764+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:36:51.766+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:36:51.768+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:36:51.769+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:36:51.770+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:36:51.770+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:36:51.773+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:36:51.775+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:36:51.775+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:36:51.775+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:36:51.775+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:36:51.776+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:36:51.777+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:36:51.777+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:36:51.777+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:36:51.777+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:36:51.777+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:36:51.778+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:36:51.778+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:38:11.905+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:38:11.909+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:38:11.911+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:38:11.913+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:38:11.913+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:38:11.914+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:38:11.914+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:38:11.918+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:38:11.920+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:38:11.920+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:38:11.921+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:38:11.921+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:38:11.922+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:38:11.922+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:38:11.923+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:38:11.923+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:38:11.923+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:38:11.924+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:38:11.924+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:38:11.925+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:38:13.127+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:38:13.128+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 유효한 Bearer 토큰을 찾을 수 없음
2025-07-01T21:38:13.128+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/auth/refresh", parameters={}
2025-07-01T21:38:13.128+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:38:13.128+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#refresh(HttpServletRequest, HttpServletResponse)
2025-07-01T21:38:13.128+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:38:13.128+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.auth.controller.AuthController     : 토큰 갱신 요청
2025-07-01T21:38:13.128+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.auth.controller.AuthController     : 토큰 갱신 시작 - refreshToken 길이: 189
2025-07-01T21:38:13.129+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.domain.auth.service.AuthService      : 토큰 갱신 요청
2025-07-01T21:38:13.130+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 시작
2025-07-01T21:38:13.130+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:38:13.131+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.refresh_token=? 
        and u1_0.refresh_token_expires_at>?
2025-07-01T21:38:13.133+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:38:13.134+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:38:13.134+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:38:13.134+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:38:13.135+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:38:13.135+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:38:13.136+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:38:13.136+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:38:13.137+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:38:13.138+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:38:13.138+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:38:13.138+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:38:13.138+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:38:13.138+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:38:13.139+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:38:13.139+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:38:13.141+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:38:13.142+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtTokenProvider          : users 테이블 JWT 정보 업데이트 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:38:13.144+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=978d8b98-c04f-4488-83a2-565addffed5a, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:38:13.144+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 블랙리스트 추가: jti=978d8b98-c04f-4488-83a2-565addffed5a, reason=TOKEN_REFRESH, userId=6
2025-07-01T21:38:13.145+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 저장: userId=6, rememberMe=true
2025-07-01T21:38:13.146+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 발급 기록: userId=6, type=ACCESS, date=2025-07-01
2025-07-01T21:38:13.146+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtRedisService           : 토큰 갱신 진행 상태 삭제: userId=6
2025-07-01T21:38:13.146+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.config.jwt.JwtTokenProvider          : Access Token 갱신 완료: email=hongdev9909@gmail.com, rememberMe=true
2025-07-01T21:38:13.146+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.domain.auth.service.AuthService      : 토큰 갱신 완료
2025-07-01T21:38:13.148+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] org.hibernate.SQL                        : 
    update
        users 
    set
        email=?,
        last_token_refresh=?,
        name=?,
        password_hash=?,
        phone_number=?,
        phone_verified=?,
        phone_verified_at=?,
        profile_image=?,
        refresh_token=?,
        refresh_token_expires_at=?,
        remember_me_enabled=?,
        updated_at=? 
    where
        id=?
2025-07-01T21:38:13.151+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.d.auth.controller.AuthController     : 토큰 갱신 완료: rememberMe=true
2025-07-01T21:38:13.152+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:38:13.152+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.RefreshResponse
2025-07-01T21:38:13.152+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 토큰 갱신됨
2025-07-01T21:38:13.152+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 토큰 갱신됨
2025-07-01T21:38:13.152+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=토큰 갱신됨, data=RefreshResponse[accessToken=eyJhbGciOiJIUzI1NiJ9.e (truncated)...]
2025-07-01T21:38:13.153+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:38:13.159+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:38:13.162+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:38:13.164+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:38:13.165+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:38:13.166+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/auth/verify", parameters={}
2025-07-01T21:38:13.166+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.auth.controller.AuthController#verify(PrincipalDetails)
2025-07-01T21:38:13.166+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.d.auth.controller.AuthController     : 인증 상태 확인: email=hongdev9909@gmail.com
2025-07-01T21:38:13.166+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:38:13.167+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class com.hscoderadar.domain.auth.dto.response.VerifyResponse
2025-07-01T21:38:13.167+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 인증 상태 확인
2025-07-01T21:38:13.167+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 인증 상태 확인
2025-07-01T21:38:13.168+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=인증 상태 확인, data=VerifyResponse[email=hongdev9909@gmail.com, name (truncated)...]
2025-07-01T21:38:13.168+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-07-01T21:38:16.216+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:38:16.219+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:38:16.221+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:38:16.222+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:38:16.222+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T21:38:16.222+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T21:38:16.223+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=안녕?, sessionId=null, clientId=null, modelName=null, temperature=null, maxTo (truncated)...]
2025-07-01T21:38:16.224+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 (SSE 표준) - 사용자: user_1597, 메시지 길이: 3, 회원 여부: true, 세션: null
2025-07-01T21:38:16.225+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-9] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 (SSE 표준) - 응답 ID: trade-chat-v61-1751373496224-c297f251, 사용자: 회원:user_1597, 회원: true
2025-07-01T21:38:16.515+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-9] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "안녕?"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "너는 무역 전문가. 사용자의 질문을 분석하여 다음 중 하나의 의도로 분류:\n\n1. HS_CODE_ANALYSIS: HS Code 분류, 관세율, 품목 분석 관련\n2. CARGO_TRACKING: 화물 추적, 통관 상태 조회 관련\n3. GENERAL_TRADE_INFO: 일반적인 무역 정보, 규제, 절차 관련\n4. NOT_TRADE_RELATED: 무역과 관련 없는 질문\n\n반드시 위 4가지 중 하나만 정확히 반환.\n"
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.2
}

2025-07-01T21:38:18.335+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-9] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:38:16Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:38:17Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:38:15Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:38:16Z], [cf-cache-status: DYNAMIC], [cf-ray: 9585f59c0892eab3-ICN], [content-length: 343], [content-type: application/json], [date: Tue, 01 Jul 2025 12:38:17 GMT], [request-id: req_011CQgK3MSgyi8nsX4cpCWFy], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: {"id":"msg_01FieJKDTXvKFAbSPP3xBzdH","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"NOT_TRADE_RELATED"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":194,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":10,"service_tier":"standard"}}

2025-07-01T21:38:19.991+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-5] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 (SSE 표준) - 사용자: user_1597, 세션: null
2025-07-01T21:38:19.991+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 안녕?
2025-07-01T21:38:20.203+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-1] c.h.domain.chat.service.TradeRagService  : ✅ HSCode 의미적 검색 완료 - 결과 수: 0, 최대 유사도: 0.0
2025-07-01T21:38:20.204+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-1] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "안녕?"
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T21:38:21.810+09:00  INFO 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:38:19Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:38:19Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:38:19Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:38:19Z], [cache-control: no-cache], [cf-cache-status: DYNAMIC], [cf-ray: 9585f5b2da08c05f-ICN], [content-type: text/event-stream; charset=utf-8], [date: Tue, 01 Jul 2025 12:38:20 GMT], [request-id: req_011CQgK3d43SSjTFZKTHBzfU], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: null

2025-07-01T21:38:21.811+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_start", data = "{"type":"message_start","message":{"id":"msg_01N6L7cFx5Lx1Qvg96jwGvAd","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":12,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":2,"service_tier":"standard"}}     }" }
2025-07-01T21:38:21.826+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_start", data = "{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}         }" }
2025-07-01T21:38:21.826+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "ping", data = "{"type": "ping"}" }
2025-07-01T21:38:21.827+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"안"}            }" }
2025-07-01T21:38:22.028+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"녕하세요"}  }" }
2025-07-01T21:38:22.062+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"! 반"}}" }
2025-07-01T21:38:22.083+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"갑습니"}              }" }
2025-07-01T21:38:22.094+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"다. 어"}   }" }
2025-07-01T21:38:22.147+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"떻"}       }" }
2025-07-01T21:38:22.193+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"게 도와"}             }" }
2025-07-01T21:38:22.243+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"드릴까"}     }" }
2025-07-01T21:38:22.291+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"요?"}               }" }
2025-07-01T21:38:22.338+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_stop", data = "{"type":"content_block_stop","index":0 }" }
2025-07-01T21:38:22.342+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_delta", data = "{"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"output_tokens":33}             }" }
2025-07-01T21:38:22.350+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_stop", data = "{"type":"message_stop"   }" }
2025-07-01T21:38:22.350+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T21:38:22.356+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T21:38:22.357+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T21:38:22.357+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:38:22.359+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T21:38:22.360+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T21:38:22.360+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T21:38:22.360+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:38:42.191+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:38:42.193+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:38:42.195+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:38:42.196+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:38:42.196+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/chat", parameters={}
2025-07-01T21:38:42.196+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.chat.controller.TradeChatController#chat(TradeChatRequest, HttpServletRequest)
2025-07-01T21:38:42.197+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TradeChatRequest[message=내가 방금 무슨 말을 했지?, sessionId=null, clientId=null, modelName=null, temperature (truncated)...]
2025-07-01T21:38:42.198+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.c.controller.TradeChatController   : 🚢 무역 특화 통합 채팅 API v6.1 호출 (SSE 표준) - 사용자: user_1597, 메시지 길이: 15, 회원 여부: true, 세션: null
2025-07-01T21:38:42.198+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] c.h.d.chat.service.TradeChatService      : 🚢 무역 채팅 처리 시작 v6.1 (SSE 표준) - 응답 ID: trade-chat-v61-1751373522198-838d3e52, 사용자: 회원:user_1597, 회원: true
2025-07-01T21:38:42.408+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "내가 방금 무슨 말을 했지?"
    } ]
  } ],
  "system" : [ {
    "type" : "text",
    "text" : "너는 무역 전문가. 사용자의 질문을 분석하여 다음 중 하나의 의도로 분류:\n\n1. HS_CODE_ANALYSIS: HS Code 분류, 관세율, 품목 분석 관련\n2. CARGO_TRACKING: 화물 추적, 통관 상태 조회 관련\n3. GENERAL_TRADE_INFO: 일반적인 무역 정보, 규제, 절차 관련\n4. NOT_TRADE_RELATED: 무역과 관련 없는 질문\n\n반드시 위 4가지 중 하나만 정확히 반환.\n"
  } ],
  "max_tokens" : 4000,
  "stop_sequences" : [ ],
  "stream" : false,
  "temperature" : 0.2
}

2025-07-01T21:38:44.053+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-8] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:38:42Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:38:43Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:38:41Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:38:42Z], [cf-cache-status: DYNAMIC], [cf-ray: 9585f63d6ce2eab3-ICN], [content-length: 343], [content-type: application/json], [date: Tue, 01 Jul 2025 12:38:43 GMT], [request-id: req_011CQgK5Fs8ajLFSeS1okoKt], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: {"id":"msg_01GfTzZWPGvujcEkqfL8Jywd","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[{"type":"text","text":"NOT_TRADE_RELATED"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":206,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":10,"service_tier":"standard"}}

2025-07-01T21:38:45.676+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-8] c.h.d.chat.service.TradeChatService      : 💾 회원 채팅 세션 저장 v6.1 (SSE 표준) - 사용자: user_1597, 세션: null
2025-07-01T21:38:45.676+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-4] c.h.domain.chat.service.TradeRagService  : 🔍 HSCode 의미적 검색 시작 - 쿼리: 내가 방금 무슨 말을 했지?
2025-07-01T21:38:45.816+09:00  WARN 33496 --- [hscode-radar] [pool-5-thread-4] dev.langchain4j.internal.RetryUtils      : A retriable exception occurred. Remaining retries: 2 of 2

dev.langchain4j.exception.RateLimitException: {"detail":"You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model."}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:68) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:31) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.lambda$withRetryMappingExceptions$2(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils$RetryPolicy.withRetry(RetryUtils.java:211) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetry(RetryUtils.java:264) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:308) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.embedTexts(VoyageAiEmbeddingModel.java:91) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.embedAll(VoyageAiEmbeddingModel.java:73) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.embedding.EmbeddingModel.embed(EmbeddingModel.java:34) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.embedding.EmbeddingModel.embed(EmbeddingModel.java:24) ~[langchain4j-core-1.1.0.jar:na]
	at com.hscoderadar.domain.chat.service.TradeRagService.searchHsCodesBySemantic(TradeRagService.java:69) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.searchHsCodesBySemantic(TradeChatService.java:584) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:173) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"detail":"You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model."}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.execute(JdkHttpClient.java:53) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiClient.embed(VoyageAiClient.java:70) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.lambda$embedTexts$0(VoyageAiEmbeddingModel.java:91) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:29) ~[langchain4j-core-1.1.0.jar:na]
	... 16 common frames omitted

2025-07-01T21:38:46.478+09:00  WARN 33496 --- [hscode-radar] [pool-5-thread-4] dev.langchain4j.internal.RetryUtils      : A retriable exception occurred. Remaining retries: 1 of 2

dev.langchain4j.exception.RateLimitException: {"detail":"You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model."}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:68) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:31) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.lambda$withRetryMappingExceptions$2(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils$RetryPolicy.withRetry(RetryUtils.java:211) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetry(RetryUtils.java:264) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:308) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.embedTexts(VoyageAiEmbeddingModel.java:91) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.embedAll(VoyageAiEmbeddingModel.java:73) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.embedding.EmbeddingModel.embed(EmbeddingModel.java:34) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.embedding.EmbeddingModel.embed(EmbeddingModel.java:24) ~[langchain4j-core-1.1.0.jar:na]
	at com.hscoderadar.domain.chat.service.TradeRagService.searchHsCodesBySemantic(TradeRagService.java:69) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.searchHsCodesBySemantic(TradeChatService.java:584) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:173) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"detail":"You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model."}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.execute(JdkHttpClient.java:53) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiClient.embed(VoyageAiClient.java:70) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.lambda$embedTexts$0(VoyageAiEmbeddingModel.java:91) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:29) ~[langchain4j-core-1.1.0.jar:na]
	... 16 common frames omitted

2025-07-01T21:38:47.445+09:00 ERROR 33496 --- [hscode-radar] [pool-5-thread-4] c.h.domain.chat.service.TradeRagService  : ❌ HSCode 의미적 검색 실패: {"detail":"You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model."}

dev.langchain4j.exception.RateLimitException: {"detail":"You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model."}
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapHttpStatusCode(ExceptionMapper.java:68) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper$DefaultExceptionMapper.mapException(ExceptionMapper.java:44) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:31) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.lambda$withRetryMappingExceptions$2(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils$RetryPolicy.withRetry(RetryUtils.java:211) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetry(RetryUtils.java:264) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:324) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.internal.RetryUtils.withRetryMappingExceptions(RetryUtils.java:308) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.embedTexts(VoyageAiEmbeddingModel.java:91) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.embedAll(VoyageAiEmbeddingModel.java:73) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.embedding.EmbeddingModel.embed(EmbeddingModel.java:34) ~[langchain4j-core-1.1.0.jar:na]
	at dev.langchain4j.model.embedding.EmbeddingModel.embed(EmbeddingModel.java:24) ~[langchain4j-core-1.1.0.jar:na]
	at com.hscoderadar.domain.chat.service.TradeRagService.searchHsCodesBySemantic(TradeRagService.java:69) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.searchHsCodesBySemantic(TradeChatService.java:584) ~[classes/:na]
	at com.hscoderadar.domain.chat.service.TradeChatService.lambda$1(TradeChatService.java:173) ~[classes/:na]
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144) ~[na:na]
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642) ~[na:na]
	at java.base/java.lang.Thread.run(Thread.java:1583) ~[na:na]
Caused by: dev.langchain4j.exception.HttpException: {"detail":"You have not yet added your payment method in the billing page and will have reduced rate limits of 3 RPM and 10K TPM. To unlock our standard rate limits, please add a payment method in the billing page for the appropriate organization in the user dashboard (https://dashboard.voyageai.com/). Even with payment methods entered, the free tokens (200M tokens for Voyage series 3) will still apply. After adding a payment method, you should see your rate limits increase after several minutes. See our pricing docs (https://docs.voyageai.com/docs/pricing) for the free tokens for your model."}
	at dev.langchain4j.http.client.jdk.JdkHttpClient.execute(JdkHttpClient.java:53) ~[langchain4j-http-client-jdk-1.1.0.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiClient.embed(VoyageAiClient.java:70) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.model.voyageai.VoyageAiEmbeddingModel.lambda$embedTexts$0(VoyageAiEmbeddingModel.java:91) ~[langchain4j-voyage-ai-1.1.0-beta7.jar:na]
	at dev.langchain4j.internal.ExceptionMapper.withExceptionMapper(ExceptionMapper.java:29) ~[langchain4j-core-1.1.0.jar:na]
	... 16 common frames omitted

2025-07-01T21:38:47.448+09:00  INFO 33496 --- [hscode-radar] [pool-5-thread-4] d.l.http.client.log.LoggingHttpClient    : HTTP request:
- method: POST
- url: https://api.anthropic.com/v1/messages
- headers: [x-api-key: sk-an...AA], [anthropic-version: 2023-06-01], [Content-Type: application/json]
- body: {
  "model" : "claude-sonnet-4-20250514",
  "messages" : [ {
    "role" : "user",
    "content" : [ {
      "type" : "text",
      "text" : "사용자 질문: 내가 방금 무슨 말을 했지?\n\n관련 HSCode 정보 (voyage-3-large 1024차원 검색 결과):\n- HSCode: 일반, 품목: 무역 정보, 설명: 더 구체적인 정보를 제공해주시면 정확한 HSCode를 안내드릴 수 있습니다. (신뢰도: 0.50)\n\n위 RAG 검색 결과를 참고하여 정확하고 구체적인 답변을 제공해주세요."
    } ]
  } ],
  "system" : [ ],
  "max_tokens" : 10000,
  "stop_sequences" : [ ],
  "stream" : true,
  "temperature" : 0.2
}

2025-07-01T21:38:49.230+09:00  INFO 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : HTTP response:
- status code: 200
- headers: [:status: 200], [anthropic-organization-id: 9187bb93-1c36-4564-9f4f-832722c26dc2], [anthropic-ratelimit-input-tokens-limit: 40000], [anthropic-ratelimit-input-tokens-remaining: 40000], [anthropic-ratelimit-input-tokens-reset: 2025-07-01T12:38:46Z], [anthropic-ratelimit-output-tokens-limit: 16000], [anthropic-ratelimit-output-tokens-remaining: 16000], [anthropic-ratelimit-output-tokens-reset: 2025-07-01T12:38:46Z], [anthropic-ratelimit-requests-limit: 1000], [anthropic-ratelimit-requests-remaining: 999], [anthropic-ratelimit-requests-reset: 2025-07-01T12:38:46Z], [anthropic-ratelimit-tokens-limit: 56000], [anthropic-ratelimit-tokens-remaining: 56000], [anthropic-ratelimit-tokens-reset: 2025-07-01T12:38:46Z], [cache-control: no-cache], [cf-cache-status: DYNAMIC], [cf-ray: 9585f65ce87bc05f-ICN], [content-type: text/event-stream; charset=utf-8], [date: Tue, 01 Jul 2025 12:38:48 GMT], [request-id: req_011CQgK5dRv7DgEk22SjSJeA], [server: cloudflare], [strict-transport-security: max-age=31536000; includeSubDomains; preload], [via: 1.1 google], [x-robots-tag: none]
- body: null

2025-07-01T21:38:49.230+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_start", data = "{"type":"message_start","message":{"id":"msg_01AZGfHkjo32P4Ps7XB7f2Jg","type":"message","role":"assistant","model":"claude-sonnet-4-20250514","content":[],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":175,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":2,"service_tier":"standard"}}             }" }
2025-07-01T21:38:49.309+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_start", data = "{"type":"content_block_start","index":0,"content_block":{"type":"text","text":""}        }" }
2025-07-01T21:38:49.309+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "ping", data = "{"type": "ping"}" }
2025-07-01T21:38:49.309+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"죄송합니다. 저"}             }" }
2025-07-01T21:38:49.421+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"는 이전 "}   }" }
2025-07-01T21:38:49.539+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"대화 내용을 "}  }" }
2025-07-01T21:38:49.696+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"기억하지 못합"}              }" }
2025-07-01T21:38:49.786+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"니다. 각"}  }" }
2025-07-01T21:38:50.118+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" 질문은 독립적으로"}               }" }
2025-07-01T21:38:50.235+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" 처리되어,"}            }" }
2025-07-01T21:38:50.361+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" 방금 전에 "}    }" }
2025-07-01T21:38:50.636+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"어떤 말씀을 하"}              }" }
2025-07-01T21:38:50.821+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"셨는지 알 수 없"}               }" }
2025-07-01T21:38:50.876+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"습니다.\n\nHSCode"}}" }
2025-07-01T21:38:51.091+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" 관련 질문이나"}}" }
2025-07-01T21:38:51.241+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" 무역 정보가 필요하"}         }" }
2025-07-01T21:38:51.414+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"시다면, 구체적인 "}       }" }
2025-07-01T21:38:51.617+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"품목명이나 상황"}       }" }
2025-07-01T21:38:51.854+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"을 다시 말씀해 주"}     }" }
2025-07-01T21:38:51.937+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"시면 정확한 정"}            }" }
2025-07-01T21:38:52.099+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"보를 제공해드릴 수"}              }" }
2025-07-01T21:38:52.269+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" 있습니다.\n\n어떤 도"}        }" }
2025-07-01T21:38:52.359+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"움이 필요하신지"}}" }
2025-07-01T21:38:52.483+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":" 다시 알려주시"}     }" }
2025-07-01T21:38:52.622+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_delta", data = "{"type":"content_block_delta","index":0,"delta":{"type":"text_delta","text":"겠어요?"}     }" }
2025-07-01T21:38:52.623+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "content_block_stop", data = "{"type":"content_block_stop","index":0            }" }
2025-07-01T21:38:52.623+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_delta", data = "{"type":"message_delta","delta":{"stop_reason":"end_turn","stop_sequence":null},"usage":{"output_tokens":187}              }" }
2025-07-01T21:38:52.624+09:00 DEBUG 33496 --- [hscode-radar] [ForkJoinPool.commonPool-worker-9] d.l.http.client.log.LoggingHttpClient    : ServerSentEvent { event = "message_stop", data = "{"type":"message_stop"        }" }
2025-07-01T21:38:52.624+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/chat"
2025-07-01T21:38:52.644+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/chat"
2025-07-01T21:38:52.644+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/chat"
2025-07-01T21:38:52.645+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:38:52.648+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for POST "/api/chat", parameters={}
2025-07-01T21:38:52.650+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result []
2025-07-01T21:38:52.656+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Found 'Content-Type:text/event-stream' in response
2025-07-01T21:38:52.659+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:39:17.276+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:39:17.279+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:39:17.281+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:39:17.282+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:39:17.283+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:39:17.283+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:39:17.284+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:39:17.287+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:39:17.288+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:39:17.288+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:39:17.288+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:39:17.289+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:39:17.290+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:39:17.290+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:39:17.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:39:17.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:39:17.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:39:17.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:39:17.291+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:39:17.292+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
2025-07-01T21:41:47.887+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : Authorization 헤더에서 Access Token 추출
2025-07-01T21:41:47.891+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.created_at,
        u1_0.email,
        u1_0.last_token_refresh,
        u1_0.name,
        u1_0.password_hash,
        u1_0.phone_number,
        u1_0.phone_verified,
        u1_0.phone_verified_at,
        u1_0.profile_image,
        u1_0.refresh_token,
        u1_0.refresh_token_expires_at,
        u1_0.remember_me_enabled,
        u1_0.updated_at 
    from
        users u1_0 
    where
        u1_0.email=?
2025-07-01T21:41:47.894+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        us1_0.id,
        us1_0.created_at,
        us1_0.email_notification_enabled,
        us1_0.notification_frequency,
        us1_0.notification_time,
        us1_0.sms_notification_enabled,
        us1_0.updated_at,
        us1_0.user_id 
    from
        user_settings us1_0 
    where
        us1_0.user_id=?
2025-07-01T21:41:47.895+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.config.jwt.JwtAuthenticationFilter   : JWT 토큰 인증 성공: hongdev9909@gmail.com
2025-07-01T21:41:47.896+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/exchange-rates", parameters={}
2025-07-01T21:41:47.896+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hscoderadar.domain.exchange.controller.ExchangeRateController#getExchangeRates()
2025-07-01T21:41:47.897+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] org.hibernate.SQL                        : 
    select
        erc1_0.id,
        erc1_0.change_rate,
        erc1_0.created_at,
        erc1_0.currency_code,
        erc1_0.currency_name,
        erc1_0.exchange_rate,
        erc1_0.expires_at,
        erc1_0.fetched_at,
        erc1_0.is_active,
        erc1_0.source_api,
        erc1_0.updated_at 
    from
        exchange_rates_cache erc1_0 
    where
        erc1_0.id in (select
            max(erc2_0.id) 
        from
            exchange_rates_cache erc2_0 
        where
            erc2_0.is_active=true 
            and erc2_0.expires_at>? 
        group by
            erc2_0.currency_code, erc2_0.currency_name)
2025-07-01T21:41:47.900+09:00  INFO 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.d.e.service.ExchangeRateService      : 유효한 환율 캐시 116건을 조회했습니다. API 호출을 생략합니다.
2025-07-01T21:41:47.901+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Started async request for "/api/exchange-rates"
2025-07-01T21:41:47.901+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Async result set for "/api/exchange-rates"
2025-07-01T21:41:47.902+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.w.c.request.async.WebAsyncManager    : Performing async dispatch for "/api/exchange-rates"
2025-07-01T21:41:47.902+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting but response remains open for further handling
2025-07-01T21:41:47.903+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : "ASYNC" dispatch for GET "/api/exchange-rates", parameters={}
2025-07-01T21:41:47.903+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] s.w.s.m.m.a.RequestMappingHandlerAdapter : Resume with async result [[ExchangeRateResponse[currencyCode=SAR, currencyName=Saudi Riyal (수입), exchangeRate=364.3900, change (truncated)...]
2025-07-01T21:41:47.904+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml, application/xml;charset=UTF-8, text/xml;charset=UTF-8, application/*+xml;charset=UTF-8]
2025-07-01T21:41:47.904+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response wrapping will be applied for return type: class java.util.ArrayList
2025-07-01T21:41:47.904+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Using custom message from @ApiResponseMessage: 환율 정보가 조회되었습니다.
2025-07-01T21:41:47.904+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] c.h.c.response.ResponseWrapperAdvice     : Response successfully wrapped with ApiResponse. Message: 환율 정보가 조회되었습니다.
2025-07-01T21:41:47.904+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ApiResponse[success=SUCCESS, message=환율 정보가 조회되었습니다., data=[ExchangeRateResponse[currencyCode=SAR, c (truncated)...]
2025-07-01T21:41:47.905+09:00 DEBUG 33496 --- [hscode-radar] [http-nio-8081-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ASYNC" dispatch, status 200
